(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();const b_=(i,r)=>i===r,ri={equals:b_};let ju=il;const Lt=1,ii=2,el={owned:null,cleanups:null,context:null,owner:null},$s={};var Oe=null;let Ns=null,y_=null,_e=null,Re=null,It=null,hi=0;function x_(i,r){const n=_e,o=Oe,l=i.length===0,h=r===void 0?o:r,m=l?el:{owned:null,cleanups:null,context:h?h.context:null,owner:h},b=l?i:()=>i(()=>un(()=>pi(m)));Oe=m,_e=null;try{return ln(b,!0)}finally{_e=n,Oe=o}}function rt(i,r){r=r?Object.assign({},ri,r):ri;const n={value:i,observers:null,observerSlots:null,comparator:r.equals||void 0},o=l=>(typeof l=="function"&&(l=l(n.value)),rl(n,l));return[nl.bind(n),o]}function Pu(i,r,n){const o=di(i,r,!0,Lt);Ln(o)}function ir(i,r,n){const o=di(i,r,!1,Lt);Ln(o)}function ni(i,r,n){ju=M_;const o=di(i,r,!1,Lt);o.user=!0,It?It.push(o):Ln(o)}function wt(i,r,n){n=n?Object.assign({},ri,n):ri;const o=di(i,r,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,Ln(o),nl.bind(o)}function C_(i){return i&&typeof i=="object"&&"then"in i}function T_(i,r,n){let o,l,h;arguments.length===2&&typeof r=="object"||arguments.length===1?(o=!0,l=i,h={}):(o=i,l=r,h={});let m=null,b=$s,T=!1,L="initialValue"in h,C=typeof o=="function"&&wt(o);const D=new Set,[$,W]=(h.storage||rt)(h.initialValue),[_,g]=rt(void 0),[y,k]=rt(void 0,{equals:!1}),[S,P]=rt(L?"ready":"unresolved");function I(U,B,N,ce){return m===U&&(m=null,ce!==void 0&&(L=!0),(U===b||B===b)&&h.onHydrated&&queueMicrotask(()=>h.onHydrated(ce,{value:B})),b=$s,H(B,N)),B}function H(U,B){ln(()=>{B===void 0&&W(()=>U),P(B!==void 0?"errored":L?"ready":"unresolved"),g(B);for(const N of D.keys())N.decrement();D.clear()},!1)}function re(){const U=O_,B=$(),N=_();if(N!==void 0&&!m)throw N;return _e&&!_e.user&&U&&Pu(()=>{y(),m&&(U.resolved||D.has(U)||(U.increment(),D.add(U)))}),B}function j(U=!0){if(U!==!1&&T)return;T=!1;const B=C?C():o;if(B==null||B===!1){I(m,un($));return}const N=b!==$s?b:un(()=>l(B,{value:$(),refetching:U}));return C_(N)?(m=N,"value"in N?(N.status==="success"?I(m,N.value,void 0,B):I(m,void 0,void 0,B),N):(T=!0,queueMicrotask(()=>T=!1),ln(()=>{P(L?"refreshing":"pending"),k()},!1),N.then(ce=>I(N,ce,void 0,B),ce=>I(N,void 0,ol(ce),B)))):(I(m,N,void 0,B),N)}return Object.defineProperties(re,{state:{get:()=>S()},error:{get:()=>_()},loading:{get(){const U=S();return U==="pending"||U==="refreshing"}},latest:{get(){if(!L)return re();const U=_();if(U&&!m)throw U;return $()}}}),C?Pu(()=>j(!1)):j(!1),[re,{refetch:j,mutate:W}]}function un(i){if(_e===null)return i();const r=_e;_e=null;try{return i()}finally{_e=r}}function tl(i){return Oe===null||(Oe.cleanups===null?Oe.cleanups=[i]:Oe.cleanups.push(i)),i}function E_(i){const r=wt(i),n=wt(()=>Bs(r()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}let O_;function nl(){if(this.sources&&this.state)if(this.state===Lt)Ln(this);else{const i=Re;Re=null,ln(()=>oi(this),!1),Re=i}if(_e){const i=this.observers?this.observers.length:0;_e.sources?(_e.sources.push(this),_e.sourceSlots.push(i)):(_e.sources=[this],_e.sourceSlots=[i]),this.observers?(this.observers.push(_e),this.observerSlots.push(_e.sources.length-1)):(this.observers=[_e],this.observerSlots=[_e.sources.length-1])}return this.value}function rl(i,r,n){let o=i.value;return(!i.comparator||!i.comparator(o,r))&&(i.value=r,i.observers&&i.observers.length&&ln(()=>{for(let l=0;l<i.observers.length;l+=1){const h=i.observers[l],m=Ns&&Ns.running;m&&Ns.disposed.has(h),(m?!h.tState:!h.state)&&(h.pure?Re.push(h):It.push(h),h.observers&&sl(h)),m||(h.state=Lt)}if(Re.length>1e6)throw Re=[],new Error},!1)),r}function Ln(i){if(!i.fn)return;pi(i);const r=hi;A_(i,i.value,r)}function A_(i,r,n){let o;const l=Oe,h=_e;_e=Oe=i;try{o=i.fn(r)}catch(m){return i.pure&&(i.state=Lt,i.owned&&i.owned.forEach(pi),i.owned=null),i.updatedAt=n+1,al(m)}finally{_e=h,Oe=l}(!i.updatedAt||i.updatedAt<=n)&&(i.updatedAt!=null&&"observers"in i?rl(i,o):i.value=o,i.updatedAt=n)}function di(i,r,n,o=Lt,l){const h={fn:i,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:Oe,context:Oe?Oe.context:null,pure:n};return Oe===null||Oe!==el&&(Oe.owned?Oe.owned.push(h):Oe.owned=[h]),h}function si(i){if(i.state===0)return;if(i.state===ii)return oi(i);if(i.suspense&&un(i.suspense.inFallback))return i.suspense.effects.push(i);const r=[i];for(;(i=i.owner)&&(!i.updatedAt||i.updatedAt<hi);)i.state&&r.push(i);for(let n=r.length-1;n>=0;n--)if(i=r[n],i.state===Lt)Ln(i);else if(i.state===ii){const o=Re;Re=null,ln(()=>oi(i,r[0]),!1),Re=o}}function ln(i,r){if(Re)return i();let n=!1;r||(Re=[]),It?n=!0:It=[],hi++;try{const o=i();return P_(n),o}catch(o){n||(It=null),Re=null,al(o)}}function P_(i){if(Re&&(il(Re),Re=null),i)return;const r=It;It=null,r.length&&ln(()=>ju(r),!1)}function il(i){for(let r=0;r<i.length;r++)si(i[r])}function M_(i){let r,n=0;for(r=0;r<i.length;r++){const o=i[r];o.user?i[n++]=o:si(o)}for(r=0;r<n;r++)si(i[r])}function oi(i,r){i.state=0;for(let n=0;n<i.sources.length;n+=1){const o=i.sources[n];if(o.sources){const l=o.state;l===Lt?o!==r&&(!o.updatedAt||o.updatedAt<hi)&&si(o):l===ii&&oi(o,r)}}}function sl(i){for(let r=0;r<i.observers.length;r+=1){const n=i.observers[r];n.state||(n.state=ii,n.pure?Re.push(n):It.push(n),n.observers&&sl(n))}}function pi(i){let r;if(i.sources)for(;i.sources.length;){const n=i.sources.pop(),o=i.sourceSlots.pop(),l=n.observers;if(l&&l.length){const h=l.pop(),m=n.observerSlots.pop();o<l.length&&(h.sourceSlots[m]=o,l[o]=h,n.observerSlots[o]=m)}}if(i.owned){for(r=i.owned.length-1;r>=0;r--)pi(i.owned[r]);i.owned=null}if(i.cleanups){for(r=i.cleanups.length-1;r>=0;r--)i.cleanups[r]();i.cleanups=null}i.state=0}function ol(i){return i instanceof Error?i:new Error(typeof i=="string"?i:"Unknown error",{cause:i})}function al(i,r=Oe){throw ol(i)}function Bs(i){if(typeof i=="function"&&!i.length)return Bs(i());if(Array.isArray(i)){const r=[];for(let n=0;n<i.length;n++){const o=Bs(i[n]);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return r}return i}let I_=!1;function Xt(i,r){return un(()=>i(r||{}))}const S_=i=>`Stale read from <${i}>.`;function L_(i){let r=!1;const n=(h,m)=>(r?h[1]===m[1]:!h[1]==!m[1])&&h[2]===m[2],o=E_(()=>i.children),l=wt(()=>{let h=o();Array.isArray(h)||(h=[h]);for(let m=0;m<h.length;m++){const b=h[m].when;if(b)return r=!!h[m].keyed,[m,b,h[m]]}return[-1]},void 0,{equals:n});return wt(()=>{const[h,m,b]=l();if(h<0)return i.fallback;const T=b.children;return typeof T=="function"&&T.length>0?un(()=>T(r?m:()=>{if(un(l)[0]!==h)throw S_("Match");return b.when})):T},void 0,void 0)}function Mu(i){return i}function k_(i,r,n){let o=n.length,l=r.length,h=o,m=0,b=0,T=r[l-1].nextSibling,L=null;for(;m<l||b<h;){if(r[m]===n[b]){m++,b++;continue}for(;r[l-1]===n[h-1];)l--,h--;if(l===m){const C=h<o?b?n[b-1].nextSibling:n[h-b]:T;for(;b<h;)i.insertBefore(n[b++],C)}else if(h===b)for(;m<l;)(!L||!L.has(r[m]))&&r[m].remove(),m++;else if(r[m]===n[h-1]&&n[b]===r[l-1]){const C=r[--l].nextSibling;i.insertBefore(n[b++],r[m++].nextSibling),i.insertBefore(n[--h],C),r[l]=n[h]}else{if(!L){L=new Map;let D=b;for(;D<h;)L.set(n[D],D++)}const C=L.get(r[m]);if(C!=null)if(b<C&&C<h){let D=m,$=1,W;for(;++D<l&&D<h&&!((W=L.get(r[D]))==null||W!==C+$);)$++;if($>C-b){const _=r[m];for(;b<C;)i.insertBefore(n[b++],_)}else i.replaceChild(n[b++],r[m++])}else m++;else r[m++].remove()}}}const Iu="_$DX_DELEGATE";function R_(i,r,n,o={}){let l;return x_(h=>{l=h,r===document?i():We(r,i(),r.firstChild?null:void 0,n)},o.owner),()=>{l(),r.textContent=""}}function kt(i,r,n){let o;const l=()=>{const m=document.createElement("template");return m.innerHTML=i,m.content.firstChild},h=()=>(o||(o=l())).cloneNode(!0);return h.cloneNode=h,h}function D_(i,r=window.document){const n=r[Iu]||(r[Iu]=new Set);for(let o=0,l=i.length;o<l;o++){const h=i[o];n.has(h)||(n.add(h),r.addEventListener(h,$_))}}function ei(i,r,n){n==null?i.removeAttribute(r):i.setAttribute(r,n)}function We(i,r,n,o){if(n!==void 0&&!o&&(o=[]),typeof r!="function")return ai(i,r,o,n);ir(l=>ai(i,r(),l,n),o)}function $_(i){const r=`$$${i.type}`;let n=i.composedPath&&i.composedPath()[0]||i.target;for(i.target!==n&&Object.defineProperty(i,"target",{configurable:!0,value:n}),Object.defineProperty(i,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[r];if(o&&!n.disabled){const l=n[`${r}Data`];if(l!==void 0?o.call(n,l,i):o.call(n,i),i.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ai(i,r,n,o,l){for(;typeof n=="function";)n=n();if(r===n)return n;const h=typeof r,m=o!==void 0;if(i=m&&n[0]&&n[0].parentNode||i,h==="string"||h==="number")if(h==="number"&&(r=r.toString()),m){let b=n[0];b&&b.nodeType===3?b.data!==r&&(b.data=r):b=document.createTextNode(r),n=An(i,n,o,b)}else n!==""&&typeof n=="string"?n=i.firstChild.data=r:n=i.textContent=r;else if(r==null||h==="boolean")n=An(i,n,o);else{if(h==="function")return ir(()=>{let b=r();for(;typeof b=="function";)b=b();n=ai(i,b,n,o)}),()=>n;if(Array.isArray(r)){const b=[],T=n&&Array.isArray(n);if(Us(b,r,n,l))return ir(()=>n=ai(i,b,n,o,!0)),()=>n;if(b.length===0){if(n=An(i,n,o),m)return n}else T?n.length===0?Su(i,b,o):k_(i,n,b):(n&&An(i),Su(i,b));n=b}else if(r.nodeType){if(Array.isArray(n)){if(m)return n=An(i,n,o,r);An(i,n,null,r)}else n==null||n===""||!i.firstChild?i.appendChild(r):i.replaceChild(r,i.firstChild);n=r}}return n}function Us(i,r,n,o){let l=!1;for(let h=0,m=r.length;h<m;h++){let b=r[h],T=n&&n[i.length],L;if(!(b==null||b===!0||b===!1))if((L=typeof b)=="object"&&b.nodeType)i.push(b);else if(Array.isArray(b))l=Us(i,b,T)||l;else if(L==="function")if(o){for(;typeof b=="function";)b=b();l=Us(i,Array.isArray(b)?b:[b],Array.isArray(T)?T:[T])||l}else i.push(b),l=!0;else{const C=String(b);T&&T.nodeType===3&&T.data===C?i.push(T):i.push(document.createTextNode(C))}}return l}function Su(i,r,n=null){for(let o=0,l=r.length;o<l;o++)i.insertBefore(r[o],n)}function An(i,r,n,o){if(n===void 0)return i.textContent="";const l=o||document.createTextNode("");if(r.length){let h=!1;for(let m=r.length-1;m>=0;m--){const b=r[m];if(l!==b){const T=b.parentNode===i;!h&&!m?T?i.replaceChild(l,b):i.insertBefore(l,n):T&&b.remove()}else h=!0}}else i.insertBefore(l,n);return[l]}var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ul(i){if(i.__esModule)return i;var r=i.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),n}var ll={exports:{}};const N_={},W_=Object.freeze(Object.defineProperty({__proto__:null,default:N_},Symbol.toStringTag,{value:"Module"})),Hs=ul(W_);var cl={exports:{}};const F_=/^\u0001ACTION ([^\u0001]+)\u0001$/,q_=/^(justinfan)(\d+$)/,B_=/\\([sn:r\\])/g,U_=/([ \n;\r\\])/g,Lu={s:" ",n:"",":":";",r:""},ku={" ":"s","\n":"n",";":":","\r":"r"},H_=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),Y_=/[|\\^$*+?:#]/,ti=cl.exports={get:(i,r)=>typeof i>"u"?r:i,hasOwn:(i,r)=>({}).hasOwnProperty.call(i,r),promiseDelay:i=>new Promise(r=>setTimeout(r,i)),isFinite:i=>isFinite(i)&&!isNaN(parseFloat(i)),toNumber(i,r){if(i===null)return 0;const n=Math.pow(10,ti.isFinite(r)?r:0);return Math.round(i*n)/n},isInteger:i=>!isNaN(ti.toNumber(i,0)),isRegex:i=>Y_.test(i),isURL:i=>H_.test(i),justinfan:()=>`justinfan${Math.floor(Math.random()*8e4+1e3)}`,isJustinfan:i=>q_.test(i),channel(i){const r=(i||"").toLowerCase();return r[0]==="#"?r:"#"+r},username(i){const r=(i||"").toLowerCase();return r[0]==="#"?r.slice(1):r},token:i=>i?i.toLowerCase().replace("oauth:",""):"",password(i){const r=ti.token(i);return r?`oauth:${r}`:""},actionMessage:i=>i.match(F_),replaceAll(i,r){if(i===null||typeof i>"u")return null;for(const n in r)i=i.replace(new RegExp(n,"g"),r[n]);return i},unescapeHtml:i=>i.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC(i){return!i||typeof i!="string"||!i.includes("\\")?i:i.replace(B_,(r,n)=>n in Lu?Lu[n]:n)},escapeIRC(i){return!i||typeof i!="string"?i:i.replace(U_,(r,n)=>n in ku?`\\${ku[n]}`:n)},addWord:(i,r)=>i.length?i+" "+r:i+r,splitLine(i,r){let n=i.substring(0,r).lastIndexOf(" ");return n===-1&&(n=r-1),[i.substring(0,n),i.substring(n+1)]},extractNumber(i){const r=i.split(" ");for(let n=0;n<r.length;n++)if(ti.isInteger(r[n]))return~~r[n];return 0},formatDate(i){let r=i.getHours(),n=i.getMinutes();return r=(r<10?"0":"")+r,n=(n<10?"0":"")+n,`${r}:${n}`},inherits(i,r){i.super_=r;const n=function(){};n.prototype=r.prototype,i.prototype=new n,i.prototype.constructor=i},isNode(){try{return typeof process=="object"&&Object.prototype.toString.call(process)==="[object process]"}catch{}return!1}};var or=cl.exports;const G_=Hs,Ru=or;var Q_=function(r,n){let o=r.url!==void 0?r.url:r.uri;if(Ru.isURL(o)||(o=`https://api.twitch.tv/kraken${o[0]==="/"?o:`/${o}`}`),Ru.isNode()){const l=Object.assign({method:"GET",json:!0},r);if(l.qs){const T=new URLSearchParams(l.qs);o+=`?${T}`}const h={};"fetchAgent"in this.opts.connection&&(h.agent=this.opts.connection.fetchAgent);const m=G_(o,{...h,method:l.method,headers:l.headers,body:l.body});let b={};m.then(T=>(b={statusCode:T.status,headers:T.headers},l.json?T.json():T.text())).then(T=>n(null,b,T),T=>n(T,b,null))}else{const l=Object.assign({method:"GET",headers:{}},r,{url:o}),h=new XMLHttpRequest;h.open(l.method,l.url,!0);for(const m in l.headers)h.setRequestHeader(m,l.headers[m]);h.responseType="json",h.addEventListener("load",m=>{h.readyState===4&&(h.status!==200?n(h.status,null,null):n(null,null,h.response))}),h.send()}};const X=or;function Du(i,r){return i=X.channel(i),r=X.get(r,30),this._sendCommand(null,i,`/followers ${r}`,(n,o)=>{this.once("_promiseFollowers",l=>{l?o(l):n([i,~~r])})})}function $u(i){return i=X.channel(i),this._sendCommand(null,i,"/followersoff",(r,n)=>{this.once("_promiseFollowersoff",o=>{o?n(o):r([i])})})}function Nu(i){return i=X.channel(i),this._sendCommand(null,null,`PART ${i}`,(r,n)=>{this.once("_promisePart",o=>{o?n(o):r([i])})})}function Wu(i){return i=X.channel(i),this._sendCommand(null,i,"/r9kbeta",(r,n)=>{this.once("_promiseR9kbeta",o=>{o?n(o):r([i])})})}function Fu(i){return i=X.channel(i),this._sendCommand(null,i,"/r9kbetaoff",(r,n)=>{this.once("_promiseR9kbetaoff",o=>{o?n(o):r([i])})})}function qu(i,r){return i=X.channel(i),r=X.get(r,300),this._sendCommand(null,i,`/slow ${r}`,(n,o)=>{this.once("_promiseSlow",l=>{l?o(l):n([i,~~r])})})}function Bu(i){return i=X.channel(i),this._sendCommand(null,i,"/slowoff",(r,n)=>{this.once("_promiseSlowoff",o=>{o?n(o):r([i])})})}var X_={action(i,r){return i=X.channel(i),r=`ACTION ${r}`,this._sendMessage(this._getPromiseDelay(),i,r,(n,o)=>{n([i,r])})},ban(i,r,n){return i=X.channel(i),r=X.username(r),n=X.get(n,""),this._sendCommand(null,i,`/ban ${r} ${n}`,(o,l)=>{this.once("_promiseBan",h=>{h?l(h):o([i,r,n])})})},clear(i){return i=X.channel(i),this._sendCommand(null,i,"/clear",(r,n)=>{this.once("_promiseClear",o=>{o?n(o):r([i])})})},color(i,r){return r=X.get(r,i),this._sendCommand(null,"#tmijs",`/color ${r}`,(n,o)=>{this.once("_promiseColor",l=>{l?o(l):n([r])})})},commercial(i,r){return i=X.channel(i),r=X.get(r,30),this._sendCommand(null,i,`/commercial ${r}`,(n,o)=>{this.once("_promiseCommercial",l=>{l?o(l):n([i,~~r])})})},deletemessage(i,r){return i=X.channel(i),this._sendCommand(null,i,`/delete ${r}`,(n,o)=>{this.once("_promiseDeletemessage",l=>{l?o(l):n([i])})})},emoteonly(i){return i=X.channel(i),this._sendCommand(null,i,"/emoteonly",(r,n)=>{this.once("_promiseEmoteonly",o=>{o?n(o):r([i])})})},emoteonlyoff(i){return i=X.channel(i),this._sendCommand(null,i,"/emoteonlyoff",(r,n)=>{this.once("_promiseEmoteonlyoff",o=>{o?n(o):r([i])})})},followersonly:Du,followersmode:Du,followersonlyoff:$u,followersmodeoff:$u,host(i,r){return i=X.channel(i),r=X.username(r),this._sendCommand(2e3,i,`/host ${r}`,(n,o)=>{this.once("_promiseHost",(l,h)=>{l?o(l):n([i,r,~~h])})})},join(i){return i=X.channel(i),this._sendCommand(void 0,null,`JOIN ${i}`,(r,n)=>{const o="_promiseJoin";let l=!1;const h=(b,T)=>{i===X.channel(T)&&(this.removeListener(o,h),l=!0,b?n(b):r([i]))};this.on(o,h);const m=this._getPromiseDelay();X.promiseDelay(m).then(()=>{l||this.emit(o,"No response from Twitch.",i)})})},mod(i,r){return i=X.channel(i),r=X.username(r),this._sendCommand(null,i,`/mod ${r}`,(n,o)=>{this.once("_promiseMod",l=>{l?o(l):n([i,r])})})},mods(i){return i=X.channel(i),this._sendCommand(null,i,"/mods",(r,n)=>{this.once("_promiseMods",(o,l)=>{o?n(o):(l.forEach(h=>{this.moderators[i]||(this.moderators[i]=[]),this.moderators[i].includes(h)||this.moderators[i].push(h)}),r(l))})})},part:Nu,leave:Nu,ping(){return this._sendCommand(null,null,"PING",(i,r)=>{this.latency=new Date,this.pingTimeout=setTimeout(()=>{this.ws!==null&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))},X.get(this.opts.connection.timeout,9999)),this.once("_promisePing",n=>i([parseFloat(n)]))})},r9kbeta:Wu,r9kmode:Wu,r9kbetaoff:Fu,r9kmodeoff:Fu,raw(i){return this._sendCommand(null,null,i,(r,n)=>{r([i])})},say(i,r){return i=X.channel(i),r.startsWith(".")&&!r.startsWith("..")||r.startsWith("/")||r.startsWith("\\")?r.substr(1,3)==="me "?this.action(i,r.substr(4)):this._sendCommand(null,i,r,(n,o)=>{n([i,r])}):this._sendMessage(this._getPromiseDelay(),i,r,(n,o)=>{n([i,r])})},slow:qu,slowmode:qu,slowoff:Bu,slowmodeoff:Bu,subscribers(i){return i=X.channel(i),this._sendCommand(null,i,"/subscribers",(r,n)=>{this.once("_promiseSubscribers",o=>{o?n(o):r([i])})})},subscribersoff(i){return i=X.channel(i),this._sendCommand(null,i,"/subscribersoff",(r,n)=>{this.once("_promiseSubscribersoff",o=>{o?n(o):r([i])})})},timeout(i,r,n,o){return i=X.channel(i),r=X.username(r),n!==null&&!X.isInteger(n)&&(o=n,n=300),n=X.get(n,300),o=X.get(o,""),this._sendCommand(null,i,`/timeout ${r} ${n} ${o}`,(l,h)=>{this.once("_promiseTimeout",m=>{m?h(m):l([i,r,~~n,o])})})},unban(i,r){return i=X.channel(i),r=X.username(r),this._sendCommand(null,i,`/unban ${r}`,(n,o)=>{this.once("_promiseUnban",l=>{l?o(l):n([i,r])})})},unhost(i){return i=X.channel(i),this._sendCommand(2e3,i,"/unhost",(r,n)=>{this.once("_promiseUnhost",o=>{o?n(o):r([i])})})},unmod(i,r){return i=X.channel(i),r=X.username(r),this._sendCommand(null,i,`/unmod ${r}`,(n,o)=>{this.once("_promiseUnmod",l=>{l?o(l):n([i,r])})})},unvip(i,r){return i=X.channel(i),r=X.username(r),this._sendCommand(null,i,`/unvip ${r}`,(n,o)=>{this.once("_promiseUnvip",l=>{l?o(l):n([i,r])})})},vip(i,r){return i=X.channel(i),r=X.username(r),this._sendCommand(null,i,`/vip ${r}`,(n,o)=>{this.once("_promiseVip",l=>{l?o(l):n([i,r])})})},vips(i){return i=X.channel(i),this._sendCommand(null,i,"/vips",(r,n)=>{this.once("_promiseVips",(o,l)=>{o?n(o):r(l)})})},whisper(i,r){return i=X.username(i),i===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(null,"#tmijs",`/w ${i} ${r}`,(n,o)=>{this.once("_promiseWhisper",l=>{l&&o(l)})}).catch(n=>{if(n&&typeof n=="string"&&n.indexOf("No response from Twitch.")!==0)throw n;const o=X.channel(i),l=Object.assign({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);return this.emits(["whisper","message"],[[o,l,r,!0],[o,l,r,!0]]),[i,r]})}};function Pe(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var J_=Pe;Pe.EventEmitter=Pe;Pe.prototype._events=void 0;Pe.prototype._maxListeners=void 0;Pe.defaultMaxListeners=10;Pe.prototype.setMaxListeners=function(i){if(!z_(i)||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this};Pe.prototype.emit=function(i){var r,n,o,l,h,m;if(this._events||(this._events={}),i==="error"&&(!this._events.error||sr(this._events.error)&&!this._events.error.length))throw r=arguments[1],r instanceof Error?r:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[i],fl(n))return!1;if(St(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),n.apply(this,l)}else if(sr(n))for(l=Array.prototype.slice.call(arguments,1),m=n.slice(),o=m.length,h=0;h<o;h++)m[h].apply(this,l);return!0};Pe.prototype.addListener=function(i,r){var n;if(!St(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,St(r.listener)?r.listener:r),this._events[i]?sr(this._events[i])?this._events[i].push(r):this._events[i]=[this._events[i],r]:this._events[i]=r,sr(this._events[i])&&!this._events[i].warned&&(fl(this._maxListeners)?n=Pe.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[i].length>n&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),typeof console.trace=="function"&&console.trace())),this};Pe.prototype.on=Pe.prototype.addListener;Pe.prototype.once=function(i,r){if(!St(r))throw TypeError("listener must be a function");var n=!1;if(this._events.hasOwnProperty(i)&&i.charAt(0)==="_"){var o=1,l=i;for(var h in this._events)this._events.hasOwnProperty(h)&&h.startsWith(l)&&o++;i=i+o}function m(){i.charAt(0)==="_"&&!isNaN(i.substr(i.length-1))&&(i=i.substring(0,i.length-1)),this.removeListener(i,m),n||(n=!0,r.apply(this,arguments))}return m.listener=r,this.on(i,m),this};Pe.prototype.removeListener=function(i,r){var n,o,l,h;if(!St(r))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(n=this._events[i],l=n.length,o=-1,n===r||St(n.listener)&&n.listener===r){if(delete this._events[i],this._events.hasOwnProperty(i+"2")&&i.charAt(0)==="_"){var m=i;for(var b in this._events)this._events.hasOwnProperty(b)&&b.startsWith(m)&&(isNaN(parseInt(b.substr(b.length-1)))||(this._events[i+parseInt(b.substr(b.length-1)-1)]=this._events[b],delete this._events[b]));this._events[i]=this._events[i+"1"],delete this._events[i+"1"]}this._events.removeListener&&this.emit("removeListener",i,r)}else if(sr(n)){for(h=l;h-- >0;)if(n[h]===r||n[h].listener&&n[h].listener===r){o=h;break}if(o<0)return this;n.length===1?(n.length=0,delete this._events[i]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",i,r)}return this};Pe.prototype.removeAllListeners=function(i){var r,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[i]&&delete this._events[i],this;if(arguments.length===0){for(r in this._events)r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[i],St(n))this.removeListener(i,n);else if(n)for(;n.length;)this.removeListener(i,n[n.length-1]);return delete this._events[i],this};Pe.prototype.listeners=function(i){var r;return!this._events||!this._events[i]?r=[]:St(this._events[i])?r=[this._events[i]]:r=this._events[i].slice(),r};Pe.prototype.listenerCount=function(i){if(this._events){var r=this._events[i];if(St(r))return 1;if(r)return r.length}return 0};Pe.listenerCount=function(i,r){return i.listenerCount(r)};function St(i){return typeof i=="function"}function z_(i){return typeof i=="number"}function sr(i){return typeof i=="object"&&i!==null}function fl(i){return i===void 0}const K_=or;let hl="info";const Uu={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};function Pn(i){return function(r){Uu[i]>=Uu[hl]&&console.log(`[${K_.formatDate(new Date)}] ${i}: ${r}`)}}var V_={setLevel(i){hl=i},trace:Pn("trace"),debug:Pn("debug"),info:Pn("info"),warn:Pn("warn"),error:Pn("error"),fatal:Pn("fatal")};const Ws=or,Mn=/\S+/g;function Fs(i,r,n=",",o="/",l){const h=i[r];if(h===void 0)return i;const m=typeof h=="string";if(i[r+"-raw"]=m?h:null,h===!0)return i[r]=null,i;if(i[r]={},m){const b=h.split(n);for(let T=0;T<b.length;T++){const L=b[T].split(o);let C=L[1];l!==void 0&&C&&(C=C.split(l)),i[r][L[0]]=C||null}}return i}var Z_={badges:i=>Fs(i,"badges"),badgeInfo:i=>Fs(i,"badge-info"),emotes:i=>Fs(i,"emotes","/",":",","),emoteRegex(i,r,n,o){Mn.lastIndex=0;const l=new RegExp("(\\b|^|\\s)"+Ws.unescapeHtml(r)+"(\\b|$|\\s)");let h;for(;(h=Mn.exec(i))!==null;)l.test(h[0])&&(o[n]=o[n]||[],o[n].push([h.index,Mn.lastIndex-1]))},emoteString(i,r,n,o){Mn.lastIndex=0;let l;for(;(l=Mn.exec(i))!==null;)l[0]===Ws.unescapeHtml(r)&&(o[n]=o[n]||[],o[n].push([l.index,Mn.lastIndex-1]))},transformEmotes(i){let r="";return Object.keys(i).forEach(n=>{r=`${r+n}:`,i[n].forEach(o=>r=`${r+o.join("-")},`),r=`${r.slice(0,-1)}/`}),r.slice(0,-1)},formTags(i){const r=[];for(const n in i){const o=Ws.escapeIRC(i[n]);r.push(`${n}=${o}`)}return`@${r.join(";")}`},msg(i){const r={raw:i,tags:{},prefix:null,command:null,params:[]};let n=0,o=0;if(i.charCodeAt(0)===64){if(o=i.indexOf(" "),o===-1)return null;const l=i.slice(1,o).split(";");for(let h=0;h<l.length;h++){const m=l[h],b=m.split("=");r.tags[b[0]]=m.substring(m.indexOf("=")+1)||!0}n=o+1}for(;i.charCodeAt(n)===32;)n++;if(i.charCodeAt(n)===58){if(o=i.indexOf(" ",n),o===-1)return null;for(r.prefix=i.slice(n+1,o),n=o+1;i.charCodeAt(n)===32;)n++}if(o=i.indexOf(" ",n),o===-1)return i.length>n?(r.command=i.slice(n),r):null;for(r.command=i.slice(n,o),n=o+1;i.charCodeAt(n)===32;)n++;for(;n<i.length;){if(o=i.indexOf(" ",n),i.charCodeAt(n)===58){r.params.push(i.slice(n+1));break}if(o!==-1){for(r.params.push(i.slice(n,o)),n=o+1;i.charCodeAt(n)===32;)n++;continue}if(o===-1){r.params.push(i.slice(n));break}}return r}};class j_{constructor(r){this.queue=[],this.index=0,this.defaultDelay=r===void 0?3e3:r}add(r,n){this.queue.push({fn:r,delay:n})}next(){const r=this.index++,n=this.queue[r];if(!n)return;const o=this.queue[this.index];if(n.fn(),o){const l=o.delay===void 0?this.defaultDelay:o.delay;setTimeout(()=>this.next(),l)}}}var e0=j_;(function(i){const r=typeof an<"u"?an:typeof window<"u"?window:{},n=r.WebSocket||Hs,o=r.fetch||Hs,l=Q_,h=X_,m=J_.EventEmitter,b=V_,T=Z_,L=e0,C=or;let D=!1;const $=function W(_){if(!(this instanceof W))return new W(_);this.opts=C.get(_,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=C.get(this.opts.options.clientId,null),this._globalDefaultChannel=C.channel(C.get(this.opts.options.globalDefaultChannel,"#tmijs")),this._skipMembership=C.get(this.opts.options.skipMembership,!1),this._skipUpdatingEmotesets=C.get(this.opts.options.skipUpdatingEmotesets,!1),this._updateEmotesetsTimer=null,this._updateEmotesetsTimerDelay=C.get(this.opts.options.updateEmotesetsTimer,6e4),this.maxReconnectAttempts=C.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=C.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=C.get(this.opts.connection.reconnect,!0),this.reconnectDecay=C.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=C.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=C.get(this.opts.connection.secure,!this.opts.connection.server&&!this.opts.connection.port),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;let g="error";this.opts.options.debug&&(g="info"),this.log=this.opts.logger||b;try{b.setLevel(g)}catch{}this.opts.channels.forEach((y,k,S)=>S[k]=C.channel(y)),m.call(this),this.setMaxListeners(0)};C.inherits($,m);for(const W in h)$.prototype[W]=h[W];$.prototype.emits=function(_,g){for(let y=0;y<_.length;y++){const k=y<g.length?g[y]:g[g.length-1];this.emit.apply(this,[_[y]].concat(k))}},$.prototype.api=function(...W){D||(this.log.warn("Client.prototype.api is deprecated and will be removed for version 2.0.0"),D=!0),l(...W)},$.prototype.handleMessage=function(_){if(!_)return;this.listenerCount("raw_message")&&this.emit("raw_message",JSON.parse(JSON.stringify(_)),_);const g=C.channel(C.get(_.params[0],null));let y=C.get(_.params[1],null);const k=C.get(_.tags["msg-id"],null),S=_.tags=T.badges(T.badgeInfo(T.emotes(_.tags)));for(const P in S){if(P==="emote-sets"||P==="ban-duration"||P==="bits")continue;let I=S[P];typeof I=="boolean"?I=null:I==="1"?I=!0:I==="0"?I=!1:typeof I=="string"&&(I=C.unescapeIRC(I)),S[P]=I}if(_.prefix===null)switch(_.command){case"PING":this.emit("ping"),this._isConnected()&&this.ws.send("PONG");break;case"PONG":{const P=new Date;this.currentLatency=(P.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break}default:this.log.warn(`Could not parse message with no prefix:
${JSON.stringify(_,null,4)}`);break}else if(_.prefix==="tmi.twitch.tv")switch(_.command){case"002":case"003":case"004":case"372":case"375":case"CAP":break;case"001":this.username=_.params[0];break;case"376":{this.log.info("Connected to server."),this.userstate[this._globalDefaultChannel]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval(()=>{this._isConnected()&&this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout(()=>{this.ws!==null&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer))},C.get(this.opts.connection.timeout,9999))},6e4);let P=C.get(this.opts.options.joinInterval,2e3);P<300&&(P=300);const I=new L(P),H=[...new Set([...this.opts.channels,...this.channels])];this.channels=[];for(let re=0;re<H.length;re++){const j=H[re];I.add(()=>{this._isConnected()&&this.join(j).catch(U=>this.log.error(U))})}I.next();break}case"NOTICE":{const P=[null],I=[g,k,y],H=[k],re=[g,!0],j=[g,!1],U=[I,P],B=[I,H],N=`[${g}] ${y}`;switch(k){case"subs_on":this.log.info(`[${g}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[re,re,P]);break;case"subs_off":this.log.info(`[${g}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[j,j,P]);break;case"emote_only_on":this.log.info(`[${g}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[re,P]);break;case"emote_only_off":this.log.info(`[${g}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[j,P]);break;case"slow_on":case"slow_off":break;case"followers_on_zero":case"followers_on":case"followers_off":break;case"r9k_on":this.log.info(`[${g}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[re,re,P]);break;case"r9k_off":this.log.info(`[${g}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[j,j,P]);break;case"room_mods":{const ce=y.split(": "),it=(ce.length>1?ce[1]:"").toLowerCase().split(", ").filter(Rt=>Rt);this.emits(["_promiseMods","mods"],[[null,it],[g,it]]);break}case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[g,[]]]);break;case"vips_success":{y.endsWith(".")&&(y=y.slice(0,-1));const ce=y.split(": "),it=(ce.length>1?ce[1]:"").toLowerCase().split(", ").filter(Rt=>Rt);this.emits(["_promiseVips","vips"],[[null,it],[g,it]]);break}case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[g,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_anon":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(N),this.emits(["notice","_promiseBan"],B);break;case"ban_success":this.log.info(N),this.emits(["notice","_promiseBan"],U);break;case"usage_clear":this.log.info(N),this.emits(["notice","_promiseClear"],B);break;case"usage_mods":this.log.info(N),this.emits(["notice","_promiseMods"],[I,[k,[]]]);break;case"mod_success":this.log.info(N),this.emits(["notice","_promiseMod"],U);break;case"usage_vips":this.log.info(N),this.emits(["notice","_promiseVips"],[I,[k,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":case"bad_vip_max_vips_reached":case"bad_vip_achievement_incomplete":this.log.info(N),this.emits(["notice","_promiseVip"],[I,[k,[]]]);break;case"vip_success":this.log.info(N),this.emits(["notice","_promiseVip"],U);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(N),this.emits(["notice","_promiseMod"],B);break;case"unmod_success":this.log.info(N),this.emits(["notice","_promiseUnmod"],U);break;case"unvip_success":this.log.info(N),this.emits(["notice","_promiseUnvip"],U);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(N),this.emits(["notice","_promiseUnmod"],B);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(N),this.emits(["notice","_promiseUnvip"],B);break;case"color_changed":this.log.info(N),this.emits(["notice","_promiseColor"],U);break;case"usage_color":case"turbo_only_color":this.log.info(N),this.emits(["notice","_promiseColor"],B);break;case"commercial_success":this.log.info(N),this.emits(["notice","_promiseCommercial"],U);break;case"usage_commercial":case"bad_commercial_error":this.log.info(N),this.emits(["notice","_promiseCommercial"],B);break;case"hosts_remaining":{this.log.info(N);const ce=isNaN(y[0])?0:parseInt(y[0]);this.emits(["notice","_promiseHost"],[I,[null,~~ce]]);break}case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(N),this.emits(["notice","_promiseHost"],[I,[k,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(N),this.emits(["notice","_promiseR9kbeta"],B);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(N),this.emits(["notice","_promiseR9kbetaoff"],B);break;case"timeout_success":this.log.info(N),this.emits(["notice","_promiseTimeout"],U);break;case"delete_message_success":this.log.info(`[${g} ${y}]`),this.emits(["notice","_promiseDeletemessage"],U);break;case"already_subs_off":case"usage_subs_off":this.log.info(N),this.emits(["notice","_promiseSubscribersoff"],B);break;case"already_subs_on":case"usage_subs_on":this.log.info(N),this.emits(["notice","_promiseSubscribers"],B);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(N),this.emits(["notice","_promiseEmoteonlyoff"],B);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(N),this.emits(["notice","_promiseEmoteonly"],B);break;case"usage_slow_on":this.log.info(N),this.emits(["notice","_promiseSlow"],B);break;case"usage_slow_off":this.log.info(N),this.emits(["notice","_promiseSlowoff"],B);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_anon":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(N),this.emits(["notice","_promiseTimeout"],B);break;case"untimeout_success":case"unban_success":this.log.info(N),this.emits(["notice","_promiseUnban"],U);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(N),this.emits(["notice","_promiseUnban"],B);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(N),this.emits(["notice","_promiseDeletemessage"],B);break;case"usage_unhost":case"not_hosting":this.log.info(N),this.emits(["notice","_promiseUnhost"],B);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted":case"whisper_restricted_recipient":this.log.info(N),this.emits(["notice","_promiseWhisper"],B);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":case"invalid_user":this.log.info(N),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff","_promiseWhisper"],[I,[k,g]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(N),this.emit("automod",g,k,y);break;case"unrecognized_cmd":this.log.info(N),this.emit("notice",g,k,y);break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":case"unavailable_command":this.log.info(N),this.emit("notice",g,k,y);break;case"host_on":case"host_off":break;default:y.includes("Login unsuccessful")||y.includes("Login authentication failed")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=y,this.log.error(this.reason),this.ws.close()):y.includes("Error logging in")||y.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=y,this.log.error(this.reason),this.ws.close()):y.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):(this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:
${JSON.stringify(_,null,4)}`),this.emit("notice",g,k,y));break}break}case"USERNOTICE":{const P=S["display-name"]||S.login,I=S["msg-param-sub-plan"]||"",H=C.unescapeIRC(C.get(S["msg-param-sub-plan-name"],""))||null,j={prime:I.includes("Prime"),plan:I,planName:H},U=~~(S["msg-param-streak-months"]||0),B=S["msg-param-recipient-display-name"]||S["msg-param-recipient-user-name"],N=~~S["msg-param-mass-gift-count"];switch(S["message-type"]=k,k){case"resub":this.emits(["resub","subanniversary"],[[g,P,U,y,S,j]]);break;case"sub":this.emits(["subscription","sub"],[[g,P,j,y,S]]);break;case"subgift":this.emit("subgift",g,P,U,B,j,S);break;case"anonsubgift":this.emit("anonsubgift",g,U,B,j,S);break;case"submysterygift":this.emit("submysterygift",g,P,N,j,S);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",g,N,j,S);break;case"primepaidupgrade":this.emit("primepaidupgrade",g,P,j,S);break;case"giftpaidupgrade":{const ce=S["msg-param-sender-name"]||S["msg-param-sender-login"];this.emit("giftpaidupgrade",g,P,ce,S);break}case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",g,P,S);break;case"raid":{const ce=S["msg-param-displayName"]||S["msg-param-login"],it=+S["msg-param-viewerCount"];this.emit("raided",g,ce,it,S);break}case"ritual":{const ce=S["msg-param-ritual-name"];switch(ce){case"new_chatter":this.emit("newchatter",g,P,S,y);break;default:this.emit("ritual",ce,g,P,S,y);break}break}default:this.emit("usernotice",k,g,S,y);break}break}case"HOSTTARGET":{const P=y.split(" "),I=~~P[1]||0;P[0]==="-"?(this.log.info(`[${g}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[g,I],[null]])):(this.log.info(`[${g}] Now hosting ${P[0]} for ${I} viewer(s).`),this.emit("hosting",g,P[0],I));break}case"CLEARCHAT":if(_.params.length>1){const P=C.get(_.tags["ban-duration"],null);P===null?(this.log.info(`[${g}] ${y} has been banned.`),this.emit("ban",g,y,null,_.tags)):(this.log.info(`[${g}] ${y} has been timed out for ${P} seconds.`),this.emit("timeout",g,y,null,~~P,_.tags))}else this.log.info(`[${g}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[g],[null]]);break;case"CLEARMSG":if(_.params.length>1){const P=y,I=S.login;S["message-type"]="messagedeleted",this.log.info(`[${g}] ${I}'s message has been deleted.`),this.emit("messagedeleted",g,I,P,S)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect().catch(P=>this.log.error(P)),setTimeout(()=>this.connect().catch(P=>this.log.error(P)),this.reconnectTimer);break;case"USERSTATE":_.tags.username=this.username,_.tags["user-type"]==="mod"&&(this.moderators[g]||(this.moderators[g]=[]),this.moderators[g].includes(this.username)||this.moderators[g].push(this.username)),!C.isJustinfan(this.getUsername())&&!this.userstate[g]&&(this.userstate[g]=S,this.lastJoined=g,this.channels.push(g),this.log.info(`Joined ${g}`),this.emit("join",g,C.username(this.getUsername()),!0)),_.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(_.tags["emote-sets"]),this.userstate[g]=S;break;case"GLOBALUSERSTATE":this.globaluserstate=S,this.emit("globaluserstate",S),typeof _.tags["emote-sets"]<"u"&&this._updateEmoteset(_.tags["emote-sets"]);break;case"ROOMSTATE":if(C.channel(this.lastJoined)===g&&this.emit("_promiseJoin",null,g),_.tags.channel=g,this.emit("roomstate",g,_.tags),!C.hasOwn(_.tags,"subs-only")){if(C.hasOwn(_.tags,"slow"))if(typeof _.tags.slow=="boolean"&&!_.tags.slow){const P=[g,!1,0];this.log.info(`[${g}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[P,P,[null]])}else{const P=~~_.tags.slow,I=[g,!0,P];this.log.info(`[${g}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[I,I,[null]])}if(C.hasOwn(_.tags,"followers-only"))if(_.tags["followers-only"]==="-1"){const P=[g,!1,0];this.log.info(`[${g}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[P,P,[null]])}else{const P=~~_.tags["followers-only"],I=[g,!0,P];this.log.info(`[${g}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[I,I,[null]])}}break;case"SERVERCHANGE":break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:
${JSON.stringify(_,null,4)}`);break}else if(_.prefix==="jtv")switch(_.command){case"MODE":y==="+o"?(this.moderators[g]||(this.moderators[g]=[]),this.moderators[g].includes(_.params[2])||this.moderators[g].push(_.params[2]),this.emit("mod",g,_.params[2])):y==="-o"&&(this.moderators[g]||(this.moderators[g]=[]),this.moderators[g].filter(P=>P!==_.params[2]),this.emit("unmod",g,_.params[2]));break;default:this.log.warn(`Could not parse message from jtv:
${JSON.stringify(_,null,4)}`);break}else switch(_.command){case"353":this.emit("names",_.params[2],_.params[3].split(" "));break;case"366":break;case"JOIN":{const P=_.prefix.split("!")[0];C.isJustinfan(this.getUsername())&&this.username===P&&(this.lastJoined=g,this.channels.push(g),this.log.info(`Joined ${g}`),this.emit("join",g,P,!0)),this.username!==P&&this.emit("join",g,P,!1);break}case"PART":{let P=!1;const I=_.prefix.split("!")[0];if(this.username===I){P=!0,this.userstate[g]&&delete this.userstate[g];let H=this.channels.indexOf(g);H!==-1&&this.channels.splice(H,1),H=this.opts.channels.indexOf(g),H!==-1&&this.opts.channels.splice(H,1),this.log.info(`Left ${g}`),this.emit("_promisePart",null)}this.emit("part",g,I,P);break}case"WHISPER":{const P=_.prefix.split("!")[0];this.log.info(`[WHISPER] <${P}>: ${y}`),C.hasOwn(_.tags,"username")||(_.tags.username=P),_.tags["message-type"]="whisper";const I=C.channel(_.tags.username);this.emits(["whisper","message"],[[I,_.tags,y,!1]]);break}case"PRIVMSG":if(_.tags.username=_.prefix.split("!")[0],_.tags.username==="jtv"){const P=C.username(y.split(" ")[0]),I=y.includes("auto");if(y.includes("hosting you for")){const H=C.extractNumber(y);this.emit("hosted",g,P,H,I)}else y.includes("hosting you")&&this.emit("hosted",g,P,0,I)}else{const P=C.get(this.opts.options.messagesLogLevel,"info"),I=C.actionMessage(y);if(_.tags["message-type"]=I?"action":"chat",y=I?I[1]:y,C.hasOwn(_.tags,"bits"))this.emit("cheer",g,_.tags,y);else{if(C.hasOwn(_.tags,"msg-id")){if(_.tags["msg-id"]==="highlighted-message"){const H=_.tags["msg-id"];this.emit("redeem",g,_.tags.username,H,_.tags,y)}else if(_.tags["msg-id"]==="skip-subs-mode-message"){const H=_.tags["msg-id"];this.emit("redeem",g,_.tags.username,H,_.tags,y)}}else if(C.hasOwn(_.tags,"custom-reward-id")){const H=_.tags["custom-reward-id"];this.emit("redeem",g,_.tags.username,H,_.tags,y)}I?(this.log[P](`[${g}] *<${_.tags.username}>: ${y}`),this.emits(["action","message"],[[g,_.tags,y,!1]])):(this.log[P](`[${g}] <${_.tags.username}>: ${y}`),this.emits(["chat","message"],[[g,_.tags,y,!1]]))}}break;default:this.log.warn(`Could not parse message:
${JSON.stringify(_,null,4)}`);break}},$.prototype.connect=function(){return new Promise((_,g)=>{this.server=C.get(this.opts.connection.server,"irc-ws.chat.twitch.tv"),this.port=C.get(this.opts.connection.port,80),this.secure&&(this.port=443),this.port===443&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",y=>{y?g(y):_([this.server,~~this.port])})})},$.prototype._openConnection=function(){const _=`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,g={};"agent"in this.opts.connection&&(g.agent=this.opts.connection.agent),this.ws=new n(_,"irc",g),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},$.prototype._onOpen=function(){this._isConnected()&&(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=C.get(this.opts.identity.username,C.justinfan()),this._getToken().then(_=>{const g=C.password(_);this.log.info("Sending authentication to server.."),this.emit("logon");let y="twitch.tv/tags twitch.tv/commands";this._skipMembership||(y+=" twitch.tv/membership"),this.ws.send("CAP REQ :"+y),g?this.ws.send(`PASS ${g}`):C.isJustinfan(this.username)&&this.ws.send("PASS SCHMOOPIIE"),this.ws.send(`NICK ${this.username}`)}).catch(_=>{this.emits(["_promiseConnect","disconnected"],[[_],["Could not get a token."]])}))},$.prototype._getToken=function(){const _=this.opts.identity.password;let g;return typeof _=="function"?(g=_(),g instanceof Promise?g:Promise.resolve(g)):Promise.resolve(_)},$.prototype._onMessage=function(_){_.data.trim().split(`\r
`).forEach(y=>{const k=T.msg(y);k&&this.handleMessage(k)})},$.prototype._onError=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.reason=this.ws===null?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout(()=>{this.reconnecting=!1,this.connect().catch(_=>this.log.error(_))},this.reconnectTimer)),this.ws=null},$.prototype._onClose=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout(()=>{this.reconnecting=!1,this.connect().catch(_=>this.log.error(_))},this.reconnectTimer))),this.ws=null},$.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},$.prototype._sendCommand=function(_,g,y,k){return new Promise((S,P)=>{if(this._isConnected())(_===null||typeof _=="number")&&(_===null&&(_=this._getPromiseDelay()),C.promiseDelay(_).then(()=>P("No response from Twitch.")));else return P("Not connected to server.");if(g!==null){const I=C.channel(g);this.log.info(`[${I}] Executing command: ${y}`),this.ws.send(`PRIVMSG ${I} :${y}`)}else this.log.info(`Executing command: ${y}`),this.ws.send(y);typeof k=="function"?k(S,P):S()})},$.prototype._sendMessage=function(_,g,y,k){return new Promise((S,P)=>{if(this._isConnected()){if(C.isJustinfan(this.getUsername()))return P("Cannot send anonymous messages.")}else return P("Not connected to server.");const I=C.channel(g);if(this.userstate[I]||(this.userstate[I]={}),y.length>=500){const B=C.splitLine(y,500);y=B[0],setTimeout(()=>{this._sendMessage(_,g,B[1],()=>{})},350)}this.ws.send(`PRIVMSG ${I} :${y}`);const H={};Object.keys(this.emotesets).forEach(B=>this.emotesets[B].forEach(N=>(C.isRegex(N.code)?T.emoteRegex:T.emoteString)(y,N.code,N.id,H)));const re=Object.assign(this.userstate[I],T.emotes({emotes:T.transformEmotes(H)||null})),j=C.get(this.opts.options.messagesLogLevel,"info"),U=C.actionMessage(y);U?(re["message-type"]="action",this.log[j](`[${I}] *<${this.getUsername()}>: ${U[1]}`),this.emits(["action","message"],[[I,re,U[1],!0]])):(re["message-type"]="chat",this.log[j](`[${I}] <${this.getUsername()}>: ${y}`),this.emits(["chat","message"],[[I,re,y,!0]])),typeof k=="function"?k(S,P):S()})},$.prototype._updateEmoteset=function(_){let g=_!==void 0;if(g&&(_===this.emotes?g=!1:this.emotes=_),this._skipUpdatingEmotesets){g&&this.emit("emotesets",_,{});return}const y=()=>{this._updateEmotesetsTimerDelay>0&&(clearTimeout(this._updateEmotesetsTimer),this._updateEmotesetsTimer=setTimeout(()=>this._updateEmoteset(_),this._updateEmotesetsTimerDelay))};this._getToken().then(k=>{const S=`https://api.twitch.tv/kraken/chat/emoticon_images?emotesets=${_}`,P={};return"fetchAgent"in this.opts.connection&&(P.agent=this.opts.connection.fetchAgent),o(S,{...P,headers:{Accept:"application/vnd.twitchtv.v5+json",Authorization:`OAuth ${C.token(k)}`,"Client-ID":this.clientId}})}).then(k=>k.json()).then(k=>{this.emotesets=k.emoticon_sets||{},this.emit("emotesets",_,this.emotesets),y()}).catch(()=>y())},$.prototype.getUsername=function(){return this.username},$.prototype.getOptions=function(){return this.opts},$.prototype.getChannels=function(){return this.channels},$.prototype.isMod=function(_,g){const y=C.channel(_);return this.moderators[y]||(this.moderators[y]=[]),this.moderators[y].includes(C.username(g))},$.prototype.readyState=function(){return this.ws===null?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},$.prototype._isConnected=function(){return this.ws!==null&&this.ws.readyState===1},$.prototype.disconnect=function(){return new Promise((_,g)=>{this.ws!==null&&this.ws.readyState!==3?(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",()=>_([this.server,~~this.port]))):(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),g("Cannot disconnect from server. Socket is not opened or connection is already closing."))})},$.prototype.off=$.prototype.removeListener,i.exports&&(i.exports=$),typeof window<"u"&&(window.tmi={client:$,Client:$})})(ll);var t0=ll.exports;const Hu=t0;var n0={client:Hu,Client:Hu};const r0=Qs(n0);function Me(i){const r=Object.prototype.toString.call(i);return i instanceof Date||typeof i=="object"&&r==="[object Date]"?new i.constructor(+i):typeof i=="number"||r==="[object Number]"||typeof i=="string"||r==="[object String]"?new Date(i):new Date(NaN)}function ye(i,r){return i instanceof Date?new i.constructor(r):new Date(r)}function dl(i,r){const n=Me(i);return isNaN(r)?ye(i,NaN):(r&&n.setDate(n.getDate()+r),n)}const pl=6048e5,i0=864e5,s0=6e4,o0=36e5,a0=1e3;let u0={};function kn(){return u0}function Jt(i,r){const n=kn(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Me(i),h=l.getDay(),m=(h<o?7:0)+h-o;return l.setDate(l.getDate()-m),l.setHours(0,0,0,0),l}function Sn(i){return Jt(i,{weekStartsOn:1})}function gl(i){const r=Me(i),n=r.getFullYear(),o=ye(i,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const l=Sn(o),h=ye(i,0);h.setFullYear(n,0,4),h.setHours(0,0,0,0);const m=Sn(h);return r.getTime()>=l.getTime()?n+1:r.getTime()>=m.getTime()?n:n-1}function Yu(i){const r=Me(i);return r.setHours(0,0,0,0),r}function ui(i){const r=Me(i),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+i-+n}function l0(i,r){const n=Yu(i),o=Yu(r),l=+n-ui(n),h=+o-ui(o);return Math.round((l-h)/i0)}function c0(i){const r=gl(i),n=ye(i,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Sn(n)}function f0(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function h0(i){if(!f0(i)&&typeof i!="number")return!1;const r=Me(i);return!isNaN(Number(r))}function d0(i){const r=Me(i),n=ye(i,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const p0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g0=(i,r,n)=>{let o;const l=p0[i];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function qs(i){return(r={})=>{const n=r.width?String(r.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const m0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v0={date:qs({formats:m0,defaultWidth:"full"}),time:qs({formats:_0,defaultWidth:"full"}),dateTime:qs({formats:w0,defaultWidth:"full"})},b0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y0=(i,r,n,o)=>b0[i];function nr(i){return(r,n)=>{const o=n?.context?String(n.context):"standalone";let l;if(o==="formatting"&&i.formattingValues){const m=i.defaultFormattingWidth||i.defaultWidth,b=n?.width?String(n.width):m;l=i.formattingValues[b]||i.formattingValues[m]}else{const m=i.defaultWidth,b=n?.width?String(n.width):i.defaultWidth;l=i.values[b]||i.values[m]}const h=i.argumentCallback?i.argumentCallback(r):r;return l[h]}}const x0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},O0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},A0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},P0=(i,r)=>{const n=Number(i),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},M0={ordinalNumber:P0,era:nr({values:x0,defaultWidth:"wide"}),quarter:nr({values:C0,defaultWidth:"wide",argumentCallback:i=>i-1}),month:nr({values:T0,defaultWidth:"wide"}),day:nr({values:E0,defaultWidth:"wide"}),dayPeriod:nr({values:O0,defaultWidth:"wide",formattingValues:A0,defaultFormattingWidth:"wide"})};function rr(i){return(r,n={})=>{const o=n.width,l=o&&i.matchPatterns[o]||i.matchPatterns[i.defaultMatchWidth],h=r.match(l);if(!h)return null;const m=h[0],b=o&&i.parsePatterns[o]||i.parsePatterns[i.defaultParseWidth],T=Array.isArray(b)?S0(b,D=>D.test(m)):I0(b,D=>D.test(m));let L;L=i.valueCallback?i.valueCallback(T):T,L=n.valueCallback?n.valueCallback(L):L;const C=r.slice(m.length);return{value:L,rest:C}}}function I0(i,r){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&r(i[n]))return n}function S0(i,r){for(let n=0;n<i.length;n++)if(r(i[n]))return n}function L0(i){return(r,n={})=>{const o=r.match(i.matchPattern);if(!o)return null;const l=o[0],h=r.match(i.parsePattern);if(!h)return null;let m=i.valueCallback?i.valueCallback(h[0]):h[0];m=n.valueCallback?n.valueCallback(m):m;const b=r.slice(l.length);return{value:m,rest:b}}}const k0=/^(\d+)(th|st|nd|rd)?/i,R0=/\d+/i,D0={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$0={any:[/^b/i,/^(a|c)/i]},N0={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W0={any:[/1/i,/2/i,/3/i,/4/i]},F0={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q0={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B0={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U0={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H0={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y0={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G0={ordinalNumber:L0({matchPattern:k0,parsePattern:R0,valueCallback:i=>parseInt(i,10)}),era:rr({matchPatterns:D0,defaultMatchWidth:"wide",parsePatterns:$0,defaultParseWidth:"any"}),quarter:rr({matchPatterns:N0,defaultMatchWidth:"wide",parsePatterns:W0,defaultParseWidth:"any",valueCallback:i=>i+1}),month:rr({matchPatterns:F0,defaultMatchWidth:"wide",parsePatterns:q0,defaultParseWidth:"any"}),day:rr({matchPatterns:B0,defaultMatchWidth:"wide",parsePatterns:U0,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:H0,defaultMatchWidth:"any",parsePatterns:Y0,defaultParseWidth:"any"})},ml={code:"en-US",formatDistance:g0,formatLong:v0,formatRelative:y0,localize:M0,match:G0,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q0(i){const r=Me(i);return l0(r,d0(r))+1}function _l(i){const r=Me(i),n=+Sn(r)-+c0(r);return Math.round(n/pl)+1}function Xs(i,r){const n=Me(i),o=n.getFullYear(),l=kn(),h=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,m=ye(i,0);m.setFullYear(o+1,0,h),m.setHours(0,0,0,0);const b=Jt(m,r),T=ye(i,0);T.setFullYear(o,0,h),T.setHours(0,0,0,0);const L=Jt(T,r);return n.getTime()>=b.getTime()?o+1:n.getTime()>=L.getTime()?o:o-1}function X0(i,r){const n=kn(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=Xs(i,r),h=ye(i,0);return h.setFullYear(l,0,o),h.setHours(0,0,0,0),Jt(h,r)}function wl(i,r){const n=Me(i),o=+Jt(n,r)-+X0(n,r);return Math.round(o/pl)+1}function ue(i,r){const n=i<0?"-":"",o=Math.abs(i).toString().padStart(r,"0");return n+o}const Qt={y(i,r){const n=i.getFullYear(),o=n>0?n:1-n;return ue(r==="yy"?o%100:o,r.length)},M(i,r){const n=i.getMonth();return r==="M"?String(n+1):ue(n+1,2)},d(i,r){return ue(i.getDate(),r.length)},a(i,r){const n=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(i,r){return ue(i.getHours()%12||12,r.length)},H(i,r){return ue(i.getHours(),r.length)},m(i,r){return ue(i.getMinutes(),r.length)},s(i,r){return ue(i.getSeconds(),r.length)},S(i,r){const n=r.length,o=i.getMilliseconds(),l=Math.trunc(o*Math.pow(10,n-3));return ue(l,r.length)}},In={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gu={G:function(i,r,n){const o=i.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(i,r,n){if(r==="yo"){const o=i.getFullYear(),l=o>0?o:1-o;return n.ordinalNumber(l,{unit:"year"})}return Qt.y(i,r)},Y:function(i,r,n,o){const l=Xs(i,o),h=l>0?l:1-l;if(r==="YY"){const m=h%100;return ue(m,2)}return r==="Yo"?n.ordinalNumber(h,{unit:"year"}):ue(h,r.length)},R:function(i,r){const n=gl(i);return ue(n,r.length)},u:function(i,r){const n=i.getFullYear();return ue(n,r.length)},Q:function(i,r,n){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return ue(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(i,r,n){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return ue(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(i,r,n){const o=i.getMonth();switch(r){case"M":case"MM":return Qt.M(i,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(i,r,n){const o=i.getMonth();switch(r){case"L":return String(o+1);case"LL":return ue(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(i,r,n,o){const l=wl(i,o);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):ue(l,r.length)},I:function(i,r,n){const o=_l(i);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):ue(o,r.length)},d:function(i,r,n){return r==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):Qt.d(i,r)},D:function(i,r,n){const o=Q0(i);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):ue(o,r.length)},E:function(i,r,n){const o=i.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(i,r,n,o){const l=i.getDay(),h=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(h);case"ee":return ue(h,2);case"eo":return n.ordinalNumber(h,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(i,r,n,o){const l=i.getDay(),h=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(h);case"cc":return ue(h,r.length);case"co":return n.ordinalNumber(h,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(i,r,n){const o=i.getDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return ue(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(i,r,n){const l=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(i,r,n){const o=i.getHours();let l;switch(o===12?l=In.noon:o===0?l=In.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(i,r,n){const o=i.getHours();let l;switch(o>=17?l=In.evening:o>=12?l=In.afternoon:o>=4?l=In.morning:l=In.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(i,r,n){if(r==="ho"){let o=i.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Qt.h(i,r)},H:function(i,r,n){return r==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):Qt.H(i,r)},K:function(i,r,n){const o=i.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):ue(o,r.length)},k:function(i,r,n){let o=i.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):ue(o,r.length)},m:function(i,r,n){return r==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):Qt.m(i,r)},s:function(i,r,n){return r==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):Qt.s(i,r)},S:function(i,r){return Qt.S(i,r)},X:function(i,r,n){const o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return Xu(o);case"XXXX":case"XX":return on(o);case"XXXXX":case"XXX":default:return on(o,":")}},x:function(i,r,n){const o=i.getTimezoneOffset();switch(r){case"x":return Xu(o);case"xxxx":case"xx":return on(o);case"xxxxx":case"xxx":default:return on(o,":")}},O:function(i,r,n){const o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Qu(o,":");case"OOOO":default:return"GMT"+on(o,":")}},z:function(i,r,n){const o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Qu(o,":");case"zzzz":default:return"GMT"+on(o,":")}},t:function(i,r,n){const o=Math.trunc(i.getTime()/1e3);return ue(o,r.length)},T:function(i,r,n){const o=i.getTime();return ue(o,r.length)}};function Qu(i,r=""){const n=i>0?"-":"+",o=Math.abs(i),l=Math.trunc(o/60),h=o%60;return h===0?n+String(l):n+String(l)+r+ue(h,2)}function Xu(i,r){return i%60===0?(i>0?"-":"+")+ue(Math.abs(i)/60,2):on(i,r)}function on(i,r=""){const n=i>0?"-":"+",o=Math.abs(i),l=ue(Math.trunc(o/60),2),h=ue(o%60,2);return n+l+r+h}const Ju=(i,r)=>{switch(i){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},vl=(i,r)=>{switch(i){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},J0=(i,r)=>{const n=i.match(/(P+)(p+)?/)||[],o=n[1],l=n[2];if(!l)return Ju(i,r);let h;switch(o){case"P":h=r.dateTime({width:"short"});break;case"PP":h=r.dateTime({width:"medium"});break;case"PPP":h=r.dateTime({width:"long"});break;case"PPPP":default:h=r.dateTime({width:"full"});break}return h.replace("{{date}}",Ju(o,r)).replace("{{time}}",vl(l,r))},Ys={p:vl,P:J0},z0=/^D+$/,K0=/^Y+$/,V0=["D","DD","YY","YYYY"];function bl(i){return z0.test(i)}function yl(i){return K0.test(i)}function Gs(i,r,n){const o=Z0(i,r,n);if(console.warn(o),V0.includes(i))throw new RangeError(o)}function Z0(i,r,n){const o=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const j0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ew=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tw=/^'([^]*?)'?$/,nw=/''/g,rw=/[a-zA-Z]/;function iw(i,r,n){const o=kn(),l=o.locale??ml,h=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,m=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,b=Me(i);if(!h0(b))throw new RangeError("Invalid time value");let T=r.match(ew).map(C=>{const D=C[0];if(D==="p"||D==="P"){const $=Ys[D];return $(C,l.formatLong)}return C}).join("").match(j0).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const D=C[0];if(D==="'")return{isToken:!1,value:sw(C)};if(Gu[D])return{isToken:!0,value:C};if(D.match(rw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:C}});l.localize.preprocessor&&(T=l.localize.preprocessor(b,T));const L={firstWeekContainsDate:h,weekStartsOn:m,locale:l};return T.map(C=>{if(!C.isToken)return C.value;const D=C.value;(yl(D)||bl(D))&&Gs(D,r,String(i));const $=Gu[D[0]];return $(b,D,l.localize,L)}).join("")}function sw(i){const r=i.match(tw);return r?r[1].replace(nw,"'"):i}function ow(){return Object.assign({},kn())}function aw(i){let n=Me(i).getDay();return n===0&&(n=7),n}function uw(i,r){const n=r instanceof Date?ye(r,0):new r(0);return n.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),n.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),n}const lw=10;class xl{subPriority=0;validate(r,n){return!0}}class cw extends xl{constructor(r,n,o,l,h){super(),this.value=r,this.validateValue=n,this.setValue=o,this.priority=l,h&&(this.subPriority=h)}validate(r,n){return this.validateValue(r,this.value,n)}set(r,n,o){return this.setValue(r,n,this.value,o)}}class fw extends xl{priority=lw;subPriority=-1;set(r,n){return n.timestampIsSet?r:ye(r,uw(r,Date))}}class se{run(r,n,o,l){const h=this.parse(r,n,o,l);return h?{setter:new cw(h.value,this.validate,this.set,this.priority,this.subPriority),rest:h.rest}:null}validate(r,n,o){return!0}}class hw extends se{priority=140;parse(r,n,o){switch(n){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,n,o){return n.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}incompatibleTokens=["R","u","t","T"]}const xe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},mt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ce(i,r){return i&&{value:r(i.value),rest:i.rest}}function ge(i,r){const n=r.match(i);return n?{value:parseInt(n[0],10),rest:r.slice(n[0].length)}:null}function _t(i,r){const n=r.match(i);if(!n)return null;if(n[0]==="Z")return{value:0,rest:r.slice(1)};const o=n[1]==="+"?1:-1,l=n[2]?parseInt(n[2],10):0,h=n[3]?parseInt(n[3],10):0,m=n[5]?parseInt(n[5],10):0;return{value:o*(l*o0+h*s0+m*a0),rest:r.slice(n[0].length)}}function Cl(i){return ge(xe.anyDigitsSigned,i)}function we(i,r){switch(i){case 1:return ge(xe.singleDigit,r);case 2:return ge(xe.twoDigits,r);case 3:return ge(xe.threeDigits,r);case 4:return ge(xe.fourDigits,r);default:return ge(new RegExp("^\\d{1,"+i+"}"),r)}}function li(i,r){switch(i){case 1:return ge(xe.singleDigitSigned,r);case 2:return ge(xe.twoDigitsSigned,r);case 3:return ge(xe.threeDigitsSigned,r);case 4:return ge(xe.fourDigitsSigned,r);default:return ge(new RegExp("^-?\\d{1,"+i+"}"),r)}}function Js(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Tl(i,r){const n=r>0,o=n?r:1-r;let l;if(o<=50)l=i||100;else{const h=o+50,m=Math.trunc(h/100)*100,b=i>=h%100;l=i+m-(b?100:0)}return n?l:1-l}function El(i){return i%400===0||i%4===0&&i%100!==0}class dw extends se{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(r,n,o){const l=h=>({year:h,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ce(we(4,r),l);case"yo":return Ce(o.ordinalNumber(r,{unit:"year"}),l);default:return Ce(we(n.length,r),l)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,o){const l=r.getFullYear();if(o.isTwoDigitYear){const m=Tl(o.year,l);return r.setFullYear(m,0,1),r.setHours(0,0,0,0),r}const h=!("era"in n)||n.era===1?o.year:1-o.year;return r.setFullYear(h,0,1),r.setHours(0,0,0,0),r}}class pw extends se{priority=130;parse(r,n,o){const l=h=>({year:h,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ce(we(4,r),l);case"Yo":return Ce(o.ordinalNumber(r,{unit:"year"}),l);default:return Ce(we(n.length,r),l)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,o,l){const h=Xs(r,l);if(o.isTwoDigitYear){const b=Tl(o.year,h);return r.setFullYear(b,0,l.firstWeekContainsDate),r.setHours(0,0,0,0),Jt(r,l)}const m=!("era"in n)||n.era===1?o.year:1-o.year;return r.setFullYear(m,0,l.firstWeekContainsDate),r.setHours(0,0,0,0),Jt(r,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class gw extends se{priority=130;parse(r,n){return li(n==="R"?4:n.length,r)}set(r,n,o){const l=ye(r,0);return l.setFullYear(o,0,4),l.setHours(0,0,0,0),Sn(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class mw extends se{priority=130;parse(r,n){return li(n==="u"?4:n.length,r)}set(r,n,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class _w extends se{priority=120;parse(r,n,o){switch(n){case"Q":case"QQ":return we(n.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class ww extends se{priority=120;parse(r,n,o){switch(n){case"q":case"qq":return we(n.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class vw extends se{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(r,n,o){const l=h=>h-1;switch(n){case"M":return Ce(ge(xe.month,r),l);case"MM":return Ce(we(2,r),l);case"Mo":return Ce(o.ordinalNumber(r,{unit:"month"}),l);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class bw extends se{priority=110;parse(r,n,o){const l=h=>h-1;switch(n){case"L":return Ce(ge(xe.month,r),l);case"LL":return Ce(we(2,r),l);case"Lo":return Ce(o.ordinalNumber(r,{unit:"month"}),l);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function yw(i,r,n){const o=Me(i),l=wl(o,n)-r;return o.setDate(o.getDate()-l*7),o}class xw extends se{priority=100;parse(r,n,o){switch(n){case"w":return ge(xe.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return we(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,o,l){return Jt(yw(r,o,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Cw(i,r){const n=Me(i),o=_l(n)-r;return n.setDate(n.getDate()-o*7),n}class Tw extends se{priority=100;parse(r,n,o){switch(n){case"I":return ge(xe.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return we(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,o){return Sn(Cw(r,o))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Ew=[31,28,31,30,31,30,31,31,30,31,30,31],Ow=[31,29,31,30,31,30,31,31,30,31,30,31];class Aw extends se{priority=90;subPriority=1;parse(r,n,o){switch(n){case"d":return ge(xe.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return we(n.length,r)}}validate(r,n){const o=r.getFullYear(),l=El(o),h=r.getMonth();return l?n>=1&&n<=Ow[h]:n>=1&&n<=Ew[h]}set(r,n,o){return r.setDate(o),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Pw extends se{priority=90;subpriority=1;parse(r,n,o){switch(n){case"D":case"DD":return ge(xe.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return we(n.length,r)}}validate(r,n){const o=r.getFullYear();return El(o)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function zs(i,r,n){const o=kn(),l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,h=Me(i),m=h.getDay(),T=(r%7+7)%7,L=7-l,C=r<0||r>6?r-(m+L)%7:(T+L)%7-(m+L)%7;return dl(h,C)}class Mw extends se{priority=90;parse(r,n,o){switch(n){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,l){return r=zs(r,o,l),r.setHours(0,0,0,0),r}incompatibleTokens=["D","i","e","c","t","T"]}class Iw extends se{priority=90;parse(r,n,o,l){const h=m=>{const b=Math.floor((m-1)/7)*7;return(m+l.weekStartsOn+6)%7+b};switch(n){case"e":case"ee":return Ce(we(n.length,r),h);case"eo":return Ce(o.ordinalNumber(r,{unit:"day"}),h);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,l){return r=zs(r,o,l),r.setHours(0,0,0,0),r}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Sw extends se{priority=90;parse(r,n,o,l){const h=m=>{const b=Math.floor((m-1)/7)*7;return(m+l.weekStartsOn+6)%7+b};switch(n){case"c":case"cc":return Ce(we(n.length,r),h);case"co":return Ce(o.ordinalNumber(r,{unit:"day"}),h);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,l){return r=zs(r,o,l),r.setHours(0,0,0,0),r}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Lw(i,r){const n=Me(i),o=aw(n),l=r-o;return dl(n,l)}class kw extends se{priority=90;parse(r,n,o){const l=h=>h===0?7:h;switch(n){case"i":case"ii":return we(n.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Ce(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),l);case"iiiii":return Ce(o.day(r,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Ce(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Ce(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),l)}}validate(r,n){return n>=1&&n<=7}set(r,n,o){return r=Lw(r,o),r.setHours(0,0,0,0),r}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Rw extends se{priority=80;parse(r,n,o){switch(n){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(Js(o),0,0,0),r}incompatibleTokens=["b","B","H","k","t","T"]}class Dw extends se{priority=80;parse(r,n,o){switch(n){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(Js(o),0,0,0),r}incompatibleTokens=["a","B","H","k","t","T"]}class $w extends se{priority=80;parse(r,n,o){switch(n){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(Js(o),0,0,0),r}incompatibleTokens=["a","b","t","T"]}class Nw extends se{priority=70;parse(r,n,o){switch(n){case"h":return ge(xe.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return we(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,o){const l=r.getHours()>=12;return l&&o<12?r.setHours(o+12,0,0,0):!l&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}incompatibleTokens=["H","K","k","t","T"]}class Ww extends se{priority=70;parse(r,n,o){switch(n){case"H":return ge(xe.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return we(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,o){return r.setHours(o,0,0,0),r}incompatibleTokens=["a","b","h","K","k","t","T"]}class Fw extends se{priority=70;parse(r,n,o){switch(n){case"K":return ge(xe.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return we(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}incompatibleTokens=["h","H","k","t","T"]}class qw extends se{priority=70;parse(r,n,o){switch(n){case"k":return ge(xe.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return we(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,o){const l=o<=24?o%24:o;return r.setHours(l,0,0,0),r}incompatibleTokens=["a","b","h","H","K","t","T"]}class Bw extends se{priority=60;parse(r,n,o){switch(n){case"m":return ge(xe.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return we(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,o){return r.setMinutes(o,0,0),r}incompatibleTokens=["t","T"]}class Uw extends se{priority=50;parse(r,n,o){switch(n){case"s":return ge(xe.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return we(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,o){return r.setSeconds(o,0),r}incompatibleTokens=["t","T"]}class Hw extends se{priority=30;parse(r,n){const o=l=>Math.trunc(l*Math.pow(10,-n.length+3));return Ce(we(n.length,r),o)}set(r,n,o){return r.setMilliseconds(o),r}incompatibleTokens=["t","T"]}class Yw extends se{priority=10;parse(r,n){switch(n){case"X":return _t(mt.basicOptionalMinutes,r);case"XX":return _t(mt.basic,r);case"XXXX":return _t(mt.basicOptionalSeconds,r);case"XXXXX":return _t(mt.extendedOptionalSeconds,r);case"XXX":default:return _t(mt.extended,r)}}set(r,n,o){return n.timestampIsSet?r:ye(r,r.getTime()-ui(r)-o)}incompatibleTokens=["t","T","x"]}class Gw extends se{priority=10;parse(r,n){switch(n){case"x":return _t(mt.basicOptionalMinutes,r);case"xx":return _t(mt.basic,r);case"xxxx":return _t(mt.basicOptionalSeconds,r);case"xxxxx":return _t(mt.extendedOptionalSeconds,r);case"xxx":default:return _t(mt.extended,r)}}set(r,n,o){return n.timestampIsSet?r:ye(r,r.getTime()-ui(r)-o)}incompatibleTokens=["t","T","X"]}class Qw extends se{priority=40;parse(r){return Cl(r)}set(r,n,o){return[ye(r,o*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Xw extends se{priority=20;parse(r){return Cl(r)}set(r,n,o){return[ye(r,o),{timestampIsSet:!0}]}incompatibleTokens="*"}const Jw={G:new hw,y:new dw,Y:new pw,R:new gw,u:new mw,Q:new _w,q:new ww,M:new vw,L:new bw,w:new xw,I:new Tw,d:new Aw,D:new Pw,E:new Mw,e:new Iw,c:new Sw,i:new kw,a:new Rw,b:new Dw,B:new $w,h:new Nw,H:new Ww,K:new Fw,k:new qw,m:new Bw,s:new Uw,S:new Hw,X:new Yw,x:new Gw,t:new Qw,T:new Xw},zw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vw=/^'([^]*?)'?$/,Zw=/''/g,jw=/\S/,ev=/[a-zA-Z]/;function tv(i,r,n,o){const l=ow(),h=l.locale??ml,m=l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,b=l.weekStartsOn??l.locale?.options?.weekStartsOn??0,T={firstWeekContainsDate:m,weekStartsOn:b,locale:h},L=[new fw],C=r.match(Kw).map(g=>{const y=g[0];if(y in Ys){const k=Ys[y];return k(g,h.formatLong)}return g}).join("").match(zw),D=[];for(let g of C){yl(g)&&Gs(g,r,i),bl(g)&&Gs(g,r,i);const y=g[0],k=Jw[y];if(k){const{incompatibleTokens:S}=k;if(Array.isArray(S)){const I=D.find(H=>S.includes(H.token)||H.token===y);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${g}\` at the same time`)}else if(k.incompatibleTokens==="*"&&D.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);D.push({token:y,fullToken:g});const P=k.run(i,g,h.match,T);if(!P)return ye(n,NaN);L.push(P.setter),i=P.rest}else{if(y.match(ev))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(g==="''"?g="'":y==="'"&&(g=nv(g)),i.indexOf(g)===0)i=i.slice(g.length);else return ye(n,NaN)}}if(i.length>0&&jw.test(i))return ye(n,NaN);const $=L.map(g=>g.priority).sort((g,y)=>y-g).filter((g,y,k)=>k.indexOf(g)===y).map(g=>L.filter(y=>y.priority===g).sort((y,k)=>k.subPriority-y.subPriority)).map(g=>g[0]);let W=Me(n);if(isNaN(W.getTime()))return ye(n,NaN);const _={};for(const g of $){if(!g.validate(W,T))return ye(n,NaN);const y=g.set(W,_,T);Array.isArray(y)?(W=y[0],Object.assign(_,y[1])):W=y}return ye(n,W)}function nv(i){return i.match(Vw)[1].replace(Zw,"'")}var ci={exports:{}};const Mt=new Uint32Array(65536),rv=(i,r)=>{const n=i.length,o=r.length,l=1<<n-1;let h=-1,m=0,b=n,T=n;for(;T--;)Mt[i.charCodeAt(T)]|=1<<T;for(T=0;T<o;T++){let L=Mt[r.charCodeAt(T)];const C=L|m;L|=(L&h)+h^h,m|=~(L|h),h&=L,m&l&&b++,h&l&&b--,m=m<<1|1,h=h<<1|~(C|m),m&=C}for(T=n;T--;)Mt[i.charCodeAt(T)]=0;return b},iv=(i,r)=>{const n=r.length,o=i.length,l=[],h=[],m=Math.ceil(n/32),b=Math.ceil(o/32);for(let _=0;_<m;_++)h[_]=-1,l[_]=0;let T=0;for(;T<b-1;T++){let _=0,g=-1;const y=T*32,k=Math.min(32,o)+y;for(let S=y;S<k;S++)Mt[i.charCodeAt(S)]|=1<<S;for(let S=0;S<n;S++){const P=Mt[r.charCodeAt(S)],I=h[S/32|0]>>>S&1,H=l[S/32|0]>>>S&1,re=P|_,j=((P|H)&g)+g^g|P|H;let U=_|~(j|g),B=g&j;U>>>31^I&&(h[S/32|0]^=1<<S),B>>>31^H&&(l[S/32|0]^=1<<S),U=U<<1|I,B=B<<1|H,g=B|~(re|U),_=U&re}for(let S=y;S<k;S++)Mt[i.charCodeAt(S)]=0}let L=0,C=-1;const D=T*32,$=Math.min(32,o-D)+D;for(let _=D;_<$;_++)Mt[i.charCodeAt(_)]|=1<<_;let W=o;for(let _=0;_<n;_++){const g=Mt[r.charCodeAt(_)],y=h[_/32|0]>>>_&1,k=l[_/32|0]>>>_&1,S=g|L,P=((g|k)&C)+C^C|g|k;let I=L|~(P|C),H=C&P;W+=I>>>o-1&1,W-=H>>>o-1&1,I>>>31^y&&(h[_/32|0]^=1<<_),H>>>31^k&&(l[_/32|0]^=1<<_),I=I<<1|y,H=H<<1|k,C=H|~(S|I),L=I&S}for(let _=D;_<$;_++)Mt[i.charCodeAt(_)]=0;return W},Ol=(i,r)=>{if(i.length<r.length){const n=r;r=i,i=n}return r.length===0?i.length:i.length<=32?rv(i,r):iv(i,r)},sv=(i,r)=>{let n=1/0,o=0;for(let l=0;l<r.length;l++){const h=Ol(i,r[l]);h<n&&(n=h,o=l)}return r[o]},ov=Object.freeze(Object.defineProperty({__proto__:null,closest:sv,distance:Ol},Symbol.toStringTag,{value:"Module"})),av=ul(ov);ci.exports;(function(i,r){(function(){var n;try{n=typeof Intl<"u"&&typeof Intl.Collator<"u"?Intl.Collator("generic",{sensitivity:"base"}):null}catch{console.log("Collator could not be initialized and wouldn't be used")}var o=av,l=[],h=[],m={get:function(b,T,L){var C=L&&n&&L.useCollator;if(C){var D=b.length,$=T.length;if(D===0)return $;if($===0)return D;var W,_,g,y,k;for(g=0;g<$;++g)l[g]=g,h[g]=T.charCodeAt(g);l[$]=$;var S;for(g=0;g<D;++g){for(_=g+1,y=0;y<$;++y)W=_,S=n.compare(b.charAt(g),String.fromCharCode(h[y]))===0,_=l[y]+(S?0:1),k=W+1,_>k&&(_=k),k=l[y+1]+1,_>k&&(_=k),l[y]=W;l[y]=_}return _}return o.distance(b,T)}};i!==null&&i.exports===r?i.exports=m:typeof self<"u"&&typeof self.postMessage=="function"&&typeof self.importScripts=="function"?self.Levenshtein=m:typeof window<"u"&&window!==null&&(window.Levenshtein=m)})()})(ci,ci.exports);var uv=ci.exports;const lv=Qs(uv),Al={Consumer_grade:{color:"#999286",label:"Consumer grade (white)",words:["Consumer grade","Consumer","white","grey","gray"]},Industrial_grade:{color:"#769ab3",label:"Industrial grade (light blue)",words:["Industrial","Industrial grade","light blue"]},Mil_spec:{color:"#3761aa",label:"Mil-spec (darker blue)",words:["Mil-spec","blue","darker blue","dark blue"]},Restricted:{color:"#bc64b2",label:"Restricted (purple)",words:["Restricted","purple"]},Classified:{color:"#b226aa",label:"Classified (pinkish purple)",words:["Classified","pink","pinkish purple","pink purple"]},Covert:{color:"#ac201d",label:"Covert (red)",words:["Covert","red"]}},cv=i=>{const r=o=>Math.max(1,o*.1),n=[...Object.entries(Al)].find(([o,l])=>l.words.map(h=>h.toLowerCase()).some(h=>i.some(m=>{const b=lv.get(h,m),T=r(Math.min(h.length,m.length));return b<=T})));if(n)return n[0]};var fv=kt('<div class="flex items-center gap-1"><div class="h-2 w-2 rounded-full"></div><div><p class=w-max> : <span class=font-bold></span></p></div><div class="h-2 min-w-2 rounded-full">'),hv=kt('<div class="w-full flex flex-col gap-1">');const dv=i=>{const r=wt(()=>Math.max(0,i.votes/i.maxVote)*100);return(()=>{var n=fv(),o=n.firstChild,l=o.nextSibling,h=l.firstChild,m=h.firstChild,b=m.nextSibling,T=l.nextSibling;return We(h,()=>i.quality.label,m),We(b,()=>i.votes),ir(L=>{var C=i.quality.color,D=i.quality.color,$=i.maxVote?`${r()}%`:"0%";return C!==L.e&&((L.e=C)!=null?o.style.setProperty("background",C):o.style.removeProperty("background")),D!==L.t&&((L.t=D)!=null?T.style.setProperty("background",D):T.style.removeProperty("background")),$!==L.a&&((L.a=$)!=null?T.style.setProperty("width",$):T.style.removeProperty("width")),L},{e:void 0,t:void 0,a:void 0}),n})()},pv=i=>(()=>{var r=hv();return We(r,()=>[...Object.entries(Al)].map(([n,o])=>Xt(dv,{quality:o,get maxVote(){return i.maxVote},get votes(){return i.votes[n]}}))),r})();var gv=kt('<div><p class="text-center font-bold text-lg"></p><a class="text-center underline text-yellow-100 block">Visit</a><div class="flex overflow-x-hidden relative w-full"><div id=slider class="flex transition-transform duration-700 ease-in-out"></div><div class="p-2 z-10 absolute bottom-0 right-0"><p> / </p></div></div><div class="p-2 flex gap-4 w-full"><div><p class=font-bold>Author</p><p><a class="underline text-yellow-100"></a></p></div><div class=w-52><p class=font-bold>Details</p><p>Posted: <span class=font-bold></span></p><p>Updated: <span class=font-bold></span></p></div><div class=w-full><p class=font-bold>Votes (Write in chat to vote)'),mv=kt('<img class="w-full flex-shrink-0">');const zu=i=>iw(i,"yyyy-MM-dd"),Ku={Consumer_grade:0,Industrial_grade:0,Mil_spec:0,Restricted:0,Classified:0,Covert:0},_v=i=>{const[r,n]=rt(void 0),[o,l]=rt(1),[h,m]=rt(Ku),b=wt(()=>Math.max(...Object.values(h())));return ni(()=>{i.item.link&&m(Ku)}),ni(()=>{i.client.on("message",(T,L,C,D)=>{const $=C.toLowerCase().split(" "),W=cv($);W&&m({...h(),[W]:h()[W]+1})})}),ni(()=>{const T=document.getElementById("slider");if(r()===i.item.link){let L=-1,C=0;T&&(L=setInterval(()=>{const D=document.querySelectorAll("#slider img");C=(C+1)%D.length,l(C+1),T.style.transform=`translateX(-${C*100}%)`},1e3*3)),tl(()=>clearInterval(L))}else l(1),n(i.item.link),T&&(T.style.transform="")}),(()=>{var T=gv(),L=T.firstChild,C=L.nextSibling,D=C.nextSibling,$=D.firstChild,W=$.nextSibling,_=W.firstChild,g=_.firstChild,y=D.nextSibling,k=y.firstChild,S=k.firstChild,P=S.nextSibling,I=P.firstChild,H=k.nextSibling,re=H.firstChild,j=re.nextSibling,U=j.firstChild,B=U.nextSibling,N=j.nextSibling,ce=N.firstChild,it=ce.nextSibling,Rt=H.nextSibling;return Rt.firstChild,We(L,()=>i.item.title),We($,()=>i.item.imagesSrcs.map((ft,cn)=>(()=>{var Dt=mv();return ei(Dt,"src",ft),ei(Dt,"alt",`image-${cn+1}`),Dt})())),We(_,o,g),We(_,()=>i.item.imagesSrcs.length,null),We(I,()=>i.item.author.name),We(B,()=>zu(i.item.postedOn)),We(it,()=>zu(i.item.updatedOn)),We(Rt,Xt(pv,{get votes(){return h()},get maxVote(){return b()}}),null),ir(ft=>{var cn=i.item.link,Dt=i.item.author.link;return cn!==ft.e&&ei(C,"href",ft.e=cn),Dt!==ft.t&&ei(I,"href",ft.t=Dt),ft},{e:void 0,t:void 0}),T})()},Pl=i=>i()!==void 0&&i()!==null;var fi={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */fi.exports;(function(i,r){(function(){var n,o="4.17.21",l=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",b="Invalid `variable` option passed into `_.template`",T="__lodash_hash_undefined__",L=500,C="__lodash_placeholder__",D=1,$=2,W=4,_=1,g=2,y=1,k=2,S=4,P=8,I=16,H=32,re=64,j=128,U=256,B=512,N=30,ce="...",it=800,Rt=16,ft=1,cn=2,Dt=3,zt=1/0,$t=9007199254740991,Il=17976931348623157e292,ar=NaN,ht=4294967295,Sl=ht-1,Ll=ht>>>1,kl=[["ary",j],["bind",y],["bindKey",k],["curry",P],["curryRight",I],["flip",B],["partial",H],["partialRight",re],["rearg",U]],fn="[object Arguments]",ur="[object Array]",Rl="[object AsyncFunction]",Rn="[object Boolean]",Dn="[object Date]",Dl="[object DOMException]",lr="[object Error]",cr="[object Function]",Ks="[object GeneratorFunction]",st="[object Map]",$n="[object Number]",$l="[object Null]",vt="[object Object]",Vs="[object Promise]",Nl="[object Proxy]",Nn="[object RegExp]",ot="[object Set]",Wn="[object String]",fr="[object Symbol]",Wl="[object Undefined]",Fn="[object WeakMap]",Fl="[object WeakSet]",qn="[object ArrayBuffer]",hn="[object DataView]",gi="[object Float32Array]",mi="[object Float64Array]",_i="[object Int8Array]",wi="[object Int16Array]",vi="[object Int32Array]",bi="[object Uint8Array]",yi="[object Uint8ClampedArray]",xi="[object Uint16Array]",Ci="[object Uint32Array]",ql=/\b__p \+= '';/g,Bl=/\b(__p \+=) '' \+/g,Ul=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zs=/&(?:amp|lt|gt|quot|#39);/g,js=/[&<>"']/g,Hl=RegExp(Zs.source),Yl=RegExp(js.source),Gl=/<%-([\s\S]+?)%>/g,Ql=/<%([\s\S]+?)%>/g,eo=/<%=([\s\S]+?)%>/g,Xl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jl=/^\w*$/,zl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ti=/[\\^$.*+?()[\]{}|]/g,Kl=RegExp(Ti.source),Ei=/^\s+/,Vl=/\s/,Zl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jl=/\{\n\/\* \[wrapped with (.+)\] \*/,ec=/,? & /,tc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nc=/[()=,{}\[\]\/\s]/,rc=/\\(\\)?/g,ic=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,to=/\w*$/,sc=/^[-+]0x[0-9a-f]+$/i,oc=/^0b[01]+$/i,ac=/^\[object .+?Constructor\]$/,uc=/^0o[0-7]+$/i,lc=/^(?:0|[1-9]\d*)$/,cc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hr=/($^)/,fc=/['\n\r\u2028\u2029\\]/g,dr="\\ud800-\\udfff",hc="\\u0300-\\u036f",dc="\\ufe20-\\ufe2f",pc="\\u20d0-\\u20ff",no=hc+dc+pc,ro="\\u2700-\\u27bf",io="a-z\\xdf-\\xf6\\xf8-\\xff",gc="\\xac\\xb1\\xd7\\xf7",mc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_c="\\u2000-\\u206f",wc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",so="A-Z\\xc0-\\xd6\\xd8-\\xde",oo="\\ufe0e\\ufe0f",ao=gc+mc+_c+wc,Oi="['’]",vc="["+dr+"]",uo="["+ao+"]",pr="["+no+"]",lo="\\d+",bc="["+ro+"]",co="["+io+"]",fo="[^"+dr+ao+lo+ro+io+so+"]",Ai="\\ud83c[\\udffb-\\udfff]",yc="(?:"+pr+"|"+Ai+")",ho="[^"+dr+"]",Pi="(?:\\ud83c[\\udde6-\\uddff]){2}",Mi="[\\ud800-\\udbff][\\udc00-\\udfff]",dn="["+so+"]",po="\\u200d",go="(?:"+co+"|"+fo+")",xc="(?:"+dn+"|"+fo+")",mo="(?:"+Oi+"(?:d|ll|m|re|s|t|ve))?",_o="(?:"+Oi+"(?:D|LL|M|RE|S|T|VE))?",wo=yc+"?",vo="["+oo+"]?",Cc="(?:"+po+"(?:"+[ho,Pi,Mi].join("|")+")"+vo+wo+")*",Tc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ec="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bo=vo+wo+Cc,Oc="(?:"+[bc,Pi,Mi].join("|")+")"+bo,Ac="(?:"+[ho+pr+"?",pr,Pi,Mi,vc].join("|")+")",Pc=RegExp(Oi,"g"),Mc=RegExp(pr,"g"),Ii=RegExp(Ai+"(?="+Ai+")|"+Ac+bo,"g"),Ic=RegExp([dn+"?"+co+"+"+mo+"(?="+[uo,dn,"$"].join("|")+")",xc+"+"+_o+"(?="+[uo,dn+go,"$"].join("|")+")",dn+"?"+go+"+"+mo,dn+"+"+_o,Ec,Tc,lo,Oc].join("|"),"g"),Sc=RegExp("["+po+dr+no+oo+"]"),Lc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rc=-1,he={};he[gi]=he[mi]=he[_i]=he[wi]=he[vi]=he[bi]=he[yi]=he[xi]=he[Ci]=!0,he[fn]=he[ur]=he[qn]=he[Rn]=he[hn]=he[Dn]=he[lr]=he[cr]=he[st]=he[$n]=he[vt]=he[Nn]=he[ot]=he[Wn]=he[Fn]=!1;var fe={};fe[fn]=fe[ur]=fe[qn]=fe[hn]=fe[Rn]=fe[Dn]=fe[gi]=fe[mi]=fe[_i]=fe[wi]=fe[vi]=fe[st]=fe[$n]=fe[vt]=fe[Nn]=fe[ot]=fe[Wn]=fe[fr]=fe[bi]=fe[yi]=fe[xi]=fe[Ci]=!0,fe[lr]=fe[cr]=fe[Fn]=!1;var Dc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},$c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fc=parseFloat,qc=parseInt,yo=typeof an=="object"&&an&&an.Object===Object&&an,Bc=typeof self=="object"&&self&&self.Object===Object&&self,Ie=yo||Bc||Function("return this")(),Si=r&&!r.nodeType&&r,Kt=Si&&!0&&i&&!i.nodeType&&i,xo=Kt&&Kt.exports===Si,Li=xo&&yo.process,ze=function(){try{var w=Kt&&Kt.require&&Kt.require("util").types;return w||Li&&Li.binding&&Li.binding("util")}catch{}}(),Co=ze&&ze.isArrayBuffer,To=ze&&ze.isDate,Eo=ze&&ze.isMap,Oo=ze&&ze.isRegExp,Ao=ze&&ze.isSet,Po=ze&&ze.isTypedArray;function He(w,E,x){switch(x.length){case 0:return w.call(E);case 1:return w.call(E,x[0]);case 2:return w.call(E,x[0],x[1]);case 3:return w.call(E,x[0],x[1],x[2])}return w.apply(E,x)}function Uc(w,E,x,F){for(var J=-1,ie=w==null?0:w.length;++J<ie;){var Te=w[J];E(F,Te,x(Te),w)}return F}function Ke(w,E){for(var x=-1,F=w==null?0:w.length;++x<F&&E(w[x],x,w)!==!1;);return w}function Hc(w,E){for(var x=w==null?0:w.length;x--&&E(w[x],x,w)!==!1;);return w}function Mo(w,E){for(var x=-1,F=w==null?0:w.length;++x<F;)if(!E(w[x],x,w))return!1;return!0}function Nt(w,E){for(var x=-1,F=w==null?0:w.length,J=0,ie=[];++x<F;){var Te=w[x];E(Te,x,w)&&(ie[J++]=Te)}return ie}function gr(w,E){var x=w==null?0:w.length;return!!x&&pn(w,E,0)>-1}function ki(w,E,x){for(var F=-1,J=w==null?0:w.length;++F<J;)if(x(E,w[F]))return!0;return!1}function de(w,E){for(var x=-1,F=w==null?0:w.length,J=Array(F);++x<F;)J[x]=E(w[x],x,w);return J}function Wt(w,E){for(var x=-1,F=E.length,J=w.length;++x<F;)w[J+x]=E[x];return w}function Ri(w,E,x,F){var J=-1,ie=w==null?0:w.length;for(F&&ie&&(x=w[++J]);++J<ie;)x=E(x,w[J],J,w);return x}function Yc(w,E,x,F){var J=w==null?0:w.length;for(F&&J&&(x=w[--J]);J--;)x=E(x,w[J],J,w);return x}function Di(w,E){for(var x=-1,F=w==null?0:w.length;++x<F;)if(E(w[x],x,w))return!0;return!1}var Gc=$i("length");function Qc(w){return w.split("")}function Xc(w){return w.match(tc)||[]}function Io(w,E,x){var F;return x(w,function(J,ie,Te){if(E(J,ie,Te))return F=ie,!1}),F}function mr(w,E,x,F){for(var J=w.length,ie=x+(F?1:-1);F?ie--:++ie<J;)if(E(w[ie],ie,w))return ie;return-1}function pn(w,E,x){return E===E?of(w,E,x):mr(w,So,x)}function Jc(w,E,x,F){for(var J=x-1,ie=w.length;++J<ie;)if(F(w[J],E))return J;return-1}function So(w){return w!==w}function Lo(w,E){var x=w==null?0:w.length;return x?Wi(w,E)/x:ar}function $i(w){return function(E){return E==null?n:E[w]}}function Ni(w){return function(E){return w==null?n:w[E]}}function ko(w,E,x,F,J){return J(w,function(ie,Te,le){x=F?(F=!1,ie):E(x,ie,Te,le)}),x}function zc(w,E){var x=w.length;for(w.sort(E);x--;)w[x]=w[x].value;return w}function Wi(w,E){for(var x,F=-1,J=w.length;++F<J;){var ie=E(w[F]);ie!==n&&(x=x===n?ie:x+ie)}return x}function Fi(w,E){for(var x=-1,F=Array(w);++x<w;)F[x]=E(x);return F}function Kc(w,E){return de(E,function(x){return[x,w[x]]})}function Ro(w){return w&&w.slice(0,Wo(w)+1).replace(Ei,"")}function Ye(w){return function(E){return w(E)}}function qi(w,E){return de(E,function(x){return w[x]})}function Bn(w,E){return w.has(E)}function Do(w,E){for(var x=-1,F=w.length;++x<F&&pn(E,w[x],0)>-1;);return x}function $o(w,E){for(var x=w.length;x--&&pn(E,w[x],0)>-1;);return x}function Vc(w,E){for(var x=w.length,F=0;x--;)w[x]===E&&++F;return F}var Zc=Ni(Dc),jc=Ni($c);function ef(w){return"\\"+Wc[w]}function tf(w,E){return w==null?n:w[E]}function gn(w){return Sc.test(w)}function nf(w){return Lc.test(w)}function rf(w){for(var E,x=[];!(E=w.next()).done;)x.push(E.value);return x}function Bi(w){var E=-1,x=Array(w.size);return w.forEach(function(F,J){x[++E]=[J,F]}),x}function No(w,E){return function(x){return w(E(x))}}function Ft(w,E){for(var x=-1,F=w.length,J=0,ie=[];++x<F;){var Te=w[x];(Te===E||Te===C)&&(w[x]=C,ie[J++]=x)}return ie}function _r(w){var E=-1,x=Array(w.size);return w.forEach(function(F){x[++E]=F}),x}function sf(w){var E=-1,x=Array(w.size);return w.forEach(function(F){x[++E]=[F,F]}),x}function of(w,E,x){for(var F=x-1,J=w.length;++F<J;)if(w[F]===E)return F;return-1}function af(w,E,x){for(var F=x+1;F--;)if(w[F]===E)return F;return F}function mn(w){return gn(w)?lf(w):Gc(w)}function at(w){return gn(w)?cf(w):Qc(w)}function Wo(w){for(var E=w.length;E--&&Vl.test(w.charAt(E)););return E}var uf=Ni(Nc);function lf(w){for(var E=Ii.lastIndex=0;Ii.test(w);)++E;return E}function cf(w){return w.match(Ii)||[]}function ff(w){return w.match(Ic)||[]}var hf=function w(E){E=E==null?Ie:_n.defaults(Ie.Object(),E,_n.pick(Ie,kc));var x=E.Array,F=E.Date,J=E.Error,ie=E.Function,Te=E.Math,le=E.Object,Ui=E.RegExp,df=E.String,Ve=E.TypeError,wr=x.prototype,pf=ie.prototype,wn=le.prototype,vr=E["__core-js_shared__"],br=pf.toString,ae=wn.hasOwnProperty,gf=0,Fo=function(){var e=/[^.]+$/.exec(vr&&vr.keys&&vr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),yr=wn.toString,mf=br.call(le),_f=Ie._,wf=Ui("^"+br.call(ae).replace(Ti,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xr=xo?E.Buffer:n,qt=E.Symbol,Cr=E.Uint8Array,qo=xr?xr.allocUnsafe:n,Tr=No(le.getPrototypeOf,le),Bo=le.create,Uo=wn.propertyIsEnumerable,Er=wr.splice,Ho=qt?qt.isConcatSpreadable:n,Un=qt?qt.iterator:n,Vt=qt?qt.toStringTag:n,Or=function(){try{var e=nn(le,"defineProperty");return e({},"",{}),e}catch{}}(),vf=E.clearTimeout!==Ie.clearTimeout&&E.clearTimeout,bf=F&&F.now!==Ie.Date.now&&F.now,yf=E.setTimeout!==Ie.setTimeout&&E.setTimeout,Ar=Te.ceil,Pr=Te.floor,Hi=le.getOwnPropertySymbols,xf=xr?xr.isBuffer:n,Yo=E.isFinite,Cf=wr.join,Tf=No(le.keys,le),Ee=Te.max,Le=Te.min,Ef=F.now,Of=E.parseInt,Go=Te.random,Af=wr.reverse,Yi=nn(E,"DataView"),Hn=nn(E,"Map"),Gi=nn(E,"Promise"),vn=nn(E,"Set"),Yn=nn(E,"WeakMap"),Gn=nn(le,"create"),Mr=Yn&&new Yn,bn={},Pf=rn(Yi),Mf=rn(Hn),If=rn(Gi),Sf=rn(vn),Lf=rn(Yn),Ir=qt?qt.prototype:n,Qn=Ir?Ir.valueOf:n,Qo=Ir?Ir.toString:n;function c(e){if(me(e)&&!z(e)&&!(e instanceof te)){if(e instanceof Ze)return e;if(ae.call(e,"__wrapped__"))return Xa(e)}return new Ze(e)}var yn=function(){function e(){}return function(t){if(!pe(t))return{};if(Bo)return Bo(t);e.prototype=t;var s=new e;return e.prototype=n,s}}();function Sr(){}function Ze(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}c.templateSettings={escape:Gl,evaluate:Ql,interpolate:eo,variable:"",imports:{_:c}},c.prototype=Sr.prototype,c.prototype.constructor=c,Ze.prototype=yn(Sr.prototype),Ze.prototype.constructor=Ze;function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ht,this.__views__=[]}function kf(){var e=new te(this.__wrapped__);return e.__actions__=Fe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Fe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Fe(this.__views__),e}function Rf(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Df(){var e=this.__wrapped__.value(),t=this.__dir__,s=z(e),a=t<0,u=s?e.length:0,f=Xh(0,u,this.__views__),d=f.start,p=f.end,v=p-d,O=a?p:d-1,A=this.__iteratees__,M=A.length,R=0,q=Le(v,this.__takeCount__);if(!s||!a&&u==v&&q==v)return ma(e,this.__actions__);var G=[];e:for(;v--&&R<q;){O+=t;for(var V=-1,Q=e[O];++V<M;){var ee=A[V],ne=ee.iteratee,Xe=ee.type,Ne=ne(Q);if(Xe==cn)Q=Ne;else if(!Ne){if(Xe==ft)continue e;break e}}G[R++]=Q}return G}te.prototype=yn(Sr.prototype),te.prototype.constructor=te;function Zt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function $f(){this.__data__=Gn?Gn(null):{},this.size=0}function Nf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Wf(e){var t=this.__data__;if(Gn){var s=t[e];return s===T?n:s}return ae.call(t,e)?t[e]:n}function Ff(e){var t=this.__data__;return Gn?t[e]!==n:ae.call(t,e)}function qf(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Gn&&t===n?T:t,this}Zt.prototype.clear=$f,Zt.prototype.delete=Nf,Zt.prototype.get=Wf,Zt.prototype.has=Ff,Zt.prototype.set=qf;function bt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function Bf(){this.__data__=[],this.size=0}function Uf(e){var t=this.__data__,s=Lr(t,e);if(s<0)return!1;var a=t.length-1;return s==a?t.pop():Er.call(t,s,1),--this.size,!0}function Hf(e){var t=this.__data__,s=Lr(t,e);return s<0?n:t[s][1]}function Yf(e){return Lr(this.__data__,e)>-1}function Gf(e,t){var s=this.__data__,a=Lr(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}bt.prototype.clear=Bf,bt.prototype.delete=Uf,bt.prototype.get=Hf,bt.prototype.has=Yf,bt.prototype.set=Gf;function yt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function Qf(){this.size=0,this.__data__={hash:new Zt,map:new(Hn||bt),string:new Zt}}function Xf(e){var t=Yr(this,e).delete(e);return this.size-=t?1:0,t}function Jf(e){return Yr(this,e).get(e)}function zf(e){return Yr(this,e).has(e)}function Kf(e,t){var s=Yr(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}yt.prototype.clear=Qf,yt.prototype.delete=Xf,yt.prototype.get=Jf,yt.prototype.has=zf,yt.prototype.set=Kf;function jt(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new yt;++t<s;)this.add(e[t])}function Vf(e){return this.__data__.set(e,T),this}function Zf(e){return this.__data__.has(e)}jt.prototype.add=jt.prototype.push=Vf,jt.prototype.has=Zf;function ut(e){var t=this.__data__=new bt(e);this.size=t.size}function jf(){this.__data__=new bt,this.size=0}function eh(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function th(e){return this.__data__.get(e)}function nh(e){return this.__data__.has(e)}function rh(e,t){var s=this.__data__;if(s instanceof bt){var a=s.__data__;if(!Hn||a.length<l-1)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new yt(a)}return s.set(e,t),this.size=s.size,this}ut.prototype.clear=jf,ut.prototype.delete=eh,ut.prototype.get=th,ut.prototype.has=nh,ut.prototype.set=rh;function Xo(e,t){var s=z(e),a=!s&&sn(e),u=!s&&!a&&Gt(e),f=!s&&!a&&!u&&En(e),d=s||a||u||f,p=d?Fi(e.length,df):[],v=p.length;for(var O in e)(t||ae.call(e,O))&&!(d&&(O=="length"||u&&(O=="offset"||O=="parent")||f&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Et(O,v)))&&p.push(O);return p}function Jo(e){var t=e.length;return t?e[ns(0,t-1)]:n}function ih(e,t){return Gr(Fe(e),en(t,0,e.length))}function sh(e){return Gr(Fe(e))}function Qi(e,t,s){(s!==n&&!lt(e[t],s)||s===n&&!(t in e))&&xt(e,t,s)}function Xn(e,t,s){var a=e[t];(!(ae.call(e,t)&&lt(a,s))||s===n&&!(t in e))&&xt(e,t,s)}function Lr(e,t){for(var s=e.length;s--;)if(lt(e[s][0],t))return s;return-1}function oh(e,t,s,a){return Bt(e,function(u,f,d){t(a,u,s(u),d)}),a}function zo(e,t){return e&&pt(t,Ae(t),e)}function ah(e,t){return e&&pt(t,Be(t),e)}function xt(e,t,s){t=="__proto__"&&Or?Or(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Xi(e,t){for(var s=-1,a=t.length,u=x(a),f=e==null;++s<a;)u[s]=f?n:As(e,t[s]);return u}function en(e,t,s){return e===e&&(s!==n&&(e=e<=s?e:s),t!==n&&(e=e>=t?e:t)),e}function je(e,t,s,a,u,f){var d,p=t&D,v=t&$,O=t&W;if(s&&(d=u?s(e,a,u,f):s(e)),d!==n)return d;if(!pe(e))return e;var A=z(e);if(A){if(d=zh(e),!p)return Fe(e,d)}else{var M=ke(e),R=M==cr||M==Ks;if(Gt(e))return va(e,p);if(M==vt||M==fn||R&&!u){if(d=v||R?{}:Wa(e),!p)return v?Wh(e,ah(d,e)):Nh(e,zo(d,e))}else{if(!fe[M])return u?e:{};d=Kh(e,M,p)}}f||(f=new ut);var q=f.get(e);if(q)return q;f.set(e,d),du(e)?e.forEach(function(Q){d.add(je(Q,t,s,Q,e,f))}):fu(e)&&e.forEach(function(Q,ee){d.set(ee,je(Q,t,s,ee,e,f))});var G=O?v?ds:hs:v?Be:Ae,V=A?n:G(e);return Ke(V||e,function(Q,ee){V&&(ee=Q,Q=e[ee]),Xn(d,ee,je(Q,t,s,ee,e,f))}),d}function uh(e){var t=Ae(e);return function(s){return Ko(s,e,t)}}function Ko(e,t,s){var a=s.length;if(e==null)return!a;for(e=le(e);a--;){var u=s[a],f=t[u],d=e[u];if(d===n&&!(u in e)||!f(d))return!1}return!0}function Vo(e,t,s){if(typeof e!="function")throw new Ve(m);return er(function(){e.apply(n,s)},t)}function Jn(e,t,s,a){var u=-1,f=gr,d=!0,p=e.length,v=[],O=t.length;if(!p)return v;s&&(t=de(t,Ye(s))),a?(f=ki,d=!1):t.length>=l&&(f=Bn,d=!1,t=new jt(t));e:for(;++u<p;){var A=e[u],M=s==null?A:s(A);if(A=a||A!==0?A:0,d&&M===M){for(var R=O;R--;)if(t[R]===M)continue e;v.push(A)}else f(t,M,a)||v.push(A)}return v}var Bt=Ta(dt),Zo=Ta(zi,!0);function lh(e,t){var s=!0;return Bt(e,function(a,u,f){return s=!!t(a,u,f),s}),s}function kr(e,t,s){for(var a=-1,u=e.length;++a<u;){var f=e[a],d=t(f);if(d!=null&&(p===n?d===d&&!Qe(d):s(d,p)))var p=d,v=f}return v}function ch(e,t,s,a){var u=e.length;for(s=K(s),s<0&&(s=-s>u?0:u+s),a=a===n||a>u?u:K(a),a<0&&(a+=u),a=s>a?0:gu(a);s<a;)e[s++]=t;return e}function jo(e,t){var s=[];return Bt(e,function(a,u,f){t(a,u,f)&&s.push(a)}),s}function Se(e,t,s,a,u){var f=-1,d=e.length;for(s||(s=Zh),u||(u=[]);++f<d;){var p=e[f];t>0&&s(p)?t>1?Se(p,t-1,s,a,u):Wt(u,p):a||(u[u.length]=p)}return u}var Ji=Ea(),ea=Ea(!0);function dt(e,t){return e&&Ji(e,t,Ae)}function zi(e,t){return e&&ea(e,t,Ae)}function Rr(e,t){return Nt(t,function(s){return Ot(e[s])})}function tn(e,t){t=Ht(t,e);for(var s=0,a=t.length;e!=null&&s<a;)e=e[gt(t[s++])];return s&&s==a?e:n}function ta(e,t,s){var a=t(e);return z(e)?a:Wt(a,s(e))}function De(e){return e==null?e===n?Wl:$l:Vt&&Vt in le(e)?Qh(e):sd(e)}function Ki(e,t){return e>t}function fh(e,t){return e!=null&&ae.call(e,t)}function hh(e,t){return e!=null&&t in le(e)}function dh(e,t,s){return e>=Le(t,s)&&e<Ee(t,s)}function Vi(e,t,s){for(var a=s?ki:gr,u=e[0].length,f=e.length,d=f,p=x(f),v=1/0,O=[];d--;){var A=e[d];d&&t&&(A=de(A,Ye(t))),v=Le(A.length,v),p[d]=!s&&(t||u>=120&&A.length>=120)?new jt(d&&A):n}A=e[0];var M=-1,R=p[0];e:for(;++M<u&&O.length<v;){var q=A[M],G=t?t(q):q;if(q=s||q!==0?q:0,!(R?Bn(R,G):a(O,G,s))){for(d=f;--d;){var V=p[d];if(!(V?Bn(V,G):a(e[d],G,s)))continue e}R&&R.push(G),O.push(q)}}return O}function ph(e,t,s,a){return dt(e,function(u,f,d){t(a,s(u),f,d)}),a}function zn(e,t,s){t=Ht(t,e),e=Ua(e,t);var a=e==null?e:e[gt(tt(t))];return a==null?n:He(a,e,s)}function na(e){return me(e)&&De(e)==fn}function gh(e){return me(e)&&De(e)==qn}function mh(e){return me(e)&&De(e)==Dn}function Kn(e,t,s,a,u){return e===t?!0:e==null||t==null||!me(e)&&!me(t)?e!==e&&t!==t:_h(e,t,s,a,Kn,u)}function _h(e,t,s,a,u,f){var d=z(e),p=z(t),v=d?ur:ke(e),O=p?ur:ke(t);v=v==fn?vt:v,O=O==fn?vt:O;var A=v==vt,M=O==vt,R=v==O;if(R&&Gt(e)){if(!Gt(t))return!1;d=!0,A=!1}if(R&&!A)return f||(f=new ut),d||En(e)?Da(e,t,s,a,u,f):Yh(e,t,v,s,a,u,f);if(!(s&_)){var q=A&&ae.call(e,"__wrapped__"),G=M&&ae.call(t,"__wrapped__");if(q||G){var V=q?e.value():e,Q=G?t.value():t;return f||(f=new ut),u(V,Q,s,a,f)}}return R?(f||(f=new ut),Gh(e,t,s,a,u,f)):!1}function wh(e){return me(e)&&ke(e)==st}function Zi(e,t,s,a){var u=s.length,f=u,d=!a;if(e==null)return!f;for(e=le(e);u--;){var p=s[u];if(d&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++u<f;){p=s[u];var v=p[0],O=e[v],A=p[1];if(d&&p[2]){if(O===n&&!(v in e))return!1}else{var M=new ut;if(a)var R=a(O,A,v,e,t,M);if(!(R===n?Kn(A,O,_|g,a,M):R))return!1}}return!0}function ra(e){if(!pe(e)||ed(e))return!1;var t=Ot(e)?wf:ac;return t.test(rn(e))}function vh(e){return me(e)&&De(e)==Nn}function bh(e){return me(e)&&ke(e)==ot}function yh(e){return me(e)&&Vr(e.length)&&!!he[De(e)]}function ia(e){return typeof e=="function"?e:e==null?Ue:typeof e=="object"?z(e)?aa(e[0],e[1]):oa(e):Ou(e)}function ji(e){if(!jn(e))return Tf(e);var t=[];for(var s in le(e))ae.call(e,s)&&s!="constructor"&&t.push(s);return t}function xh(e){if(!pe(e))return id(e);var t=jn(e),s=[];for(var a in e)a=="constructor"&&(t||!ae.call(e,a))||s.push(a);return s}function es(e,t){return e<t}function sa(e,t){var s=-1,a=qe(e)?x(e.length):[];return Bt(e,function(u,f,d){a[++s]=t(u,f,d)}),a}function oa(e){var t=gs(e);return t.length==1&&t[0][2]?qa(t[0][0],t[0][1]):function(s){return s===e||Zi(s,e,t)}}function aa(e,t){return _s(e)&&Fa(t)?qa(gt(e),t):function(s){var a=As(s,e);return a===n&&a===t?Ps(s,e):Kn(t,a,_|g)}}function Dr(e,t,s,a,u){e!==t&&Ji(t,function(f,d){if(u||(u=new ut),pe(f))Ch(e,t,d,s,Dr,a,u);else{var p=a?a(vs(e,d),f,d+"",e,t,u):n;p===n&&(p=f),Qi(e,d,p)}},Be)}function Ch(e,t,s,a,u,f,d){var p=vs(e,s),v=vs(t,s),O=d.get(v);if(O){Qi(e,s,O);return}var A=f?f(p,v,s+"",e,t,d):n,M=A===n;if(M){var R=z(v),q=!R&&Gt(v),G=!R&&!q&&En(v);A=v,R||q||G?z(p)?A=p:ve(p)?A=Fe(p):q?(M=!1,A=va(v,!0)):G?(M=!1,A=ba(v,!0)):A=[]:tr(v)||sn(v)?(A=p,sn(p)?A=mu(p):(!pe(p)||Ot(p))&&(A=Wa(v))):M=!1}M&&(d.set(v,A),u(A,v,a,f,d),d.delete(v)),Qi(e,s,A)}function ua(e,t){var s=e.length;if(s)return t+=t<0?s:0,Et(t,s)?e[t]:n}function la(e,t,s){t.length?t=de(t,function(f){return z(f)?function(d){return tn(d,f.length===1?f[0]:f)}:f}):t=[Ue];var a=-1;t=de(t,Ye(Y()));var u=sa(e,function(f,d,p){var v=de(t,function(O){return O(f)});return{criteria:v,index:++a,value:f}});return zc(u,function(f,d){return $h(f,d,s)})}function Th(e,t){return ca(e,t,function(s,a){return Ps(e,a)})}function ca(e,t,s){for(var a=-1,u=t.length,f={};++a<u;){var d=t[a],p=tn(e,d);s(p,d)&&Vn(f,Ht(d,e),p)}return f}function Eh(e){return function(t){return tn(t,e)}}function ts(e,t,s,a){var u=a?Jc:pn,f=-1,d=t.length,p=e;for(e===t&&(t=Fe(t)),s&&(p=de(e,Ye(s)));++f<d;)for(var v=0,O=t[f],A=s?s(O):O;(v=u(p,A,v,a))>-1;)p!==e&&Er.call(p,v,1),Er.call(e,v,1);return e}function fa(e,t){for(var s=e?t.length:0,a=s-1;s--;){var u=t[s];if(s==a||u!==f){var f=u;Et(u)?Er.call(e,u,1):ss(e,u)}}return e}function ns(e,t){return e+Pr(Go()*(t-e+1))}function Oh(e,t,s,a){for(var u=-1,f=Ee(Ar((t-e)/(s||1)),0),d=x(f);f--;)d[a?f:++u]=e,e+=s;return d}function rs(e,t){var s="";if(!e||t<1||t>$t)return s;do t%2&&(s+=e),t=Pr(t/2),t&&(e+=e);while(t);return s}function Z(e,t){return bs(Ba(e,t,Ue),e+"")}function Ah(e){return Jo(On(e))}function Ph(e,t){var s=On(e);return Gr(s,en(t,0,s.length))}function Vn(e,t,s,a){if(!pe(e))return e;t=Ht(t,e);for(var u=-1,f=t.length,d=f-1,p=e;p!=null&&++u<f;){var v=gt(t[u]),O=s;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(u!=d){var A=p[v];O=a?a(A,v,p):n,O===n&&(O=pe(A)?A:Et(t[u+1])?[]:{})}Xn(p,v,O),p=p[v]}return e}var ha=Mr?function(e,t){return Mr.set(e,t),e}:Ue,Mh=Or?function(e,t){return Or(e,"toString",{configurable:!0,enumerable:!1,value:Is(t),writable:!0})}:Ue;function Ih(e){return Gr(On(e))}function et(e,t,s){var a=-1,u=e.length;t<0&&(t=-t>u?0:u+t),s=s>u?u:s,s<0&&(s+=u),u=t>s?0:s-t>>>0,t>>>=0;for(var f=x(u);++a<u;)f[a]=e[a+t];return f}function Sh(e,t){var s;return Bt(e,function(a,u,f){return s=t(a,u,f),!s}),!!s}function $r(e,t,s){var a=0,u=e==null?a:e.length;if(typeof t=="number"&&t===t&&u<=Ll){for(;a<u;){var f=a+u>>>1,d=e[f];d!==null&&!Qe(d)&&(s?d<=t:d<t)?a=f+1:u=f}return u}return is(e,t,Ue,s)}function is(e,t,s,a){var u=0,f=e==null?0:e.length;if(f===0)return 0;t=s(t);for(var d=t!==t,p=t===null,v=Qe(t),O=t===n;u<f;){var A=Pr((u+f)/2),M=s(e[A]),R=M!==n,q=M===null,G=M===M,V=Qe(M);if(d)var Q=a||G;else O?Q=G&&(a||R):p?Q=G&&R&&(a||!q):v?Q=G&&R&&!q&&(a||!V):q||V?Q=!1:Q=a?M<=t:M<t;Q?u=A+1:f=A}return Le(f,Sl)}function da(e,t){for(var s=-1,a=e.length,u=0,f=[];++s<a;){var d=e[s],p=t?t(d):d;if(!s||!lt(p,v)){var v=p;f[u++]=d===0?0:d}}return f}function pa(e){return typeof e=="number"?e:Qe(e)?ar:+e}function Ge(e){if(typeof e=="string")return e;if(z(e))return de(e,Ge)+"";if(Qe(e))return Qo?Qo.call(e):"";var t=e+"";return t=="0"&&1/e==-zt?"-0":t}function Ut(e,t,s){var a=-1,u=gr,f=e.length,d=!0,p=[],v=p;if(s)d=!1,u=ki;else if(f>=l){var O=t?null:Uh(e);if(O)return _r(O);d=!1,u=Bn,v=new jt}else v=t?[]:p;e:for(;++a<f;){var A=e[a],M=t?t(A):A;if(A=s||A!==0?A:0,d&&M===M){for(var R=v.length;R--;)if(v[R]===M)continue e;t&&v.push(M),p.push(A)}else u(v,M,s)||(v!==p&&v.push(M),p.push(A))}return p}function ss(e,t){return t=Ht(t,e),e=Ua(e,t),e==null||delete e[gt(tt(t))]}function ga(e,t,s,a){return Vn(e,t,s(tn(e,t)),a)}function Nr(e,t,s,a){for(var u=e.length,f=a?u:-1;(a?f--:++f<u)&&t(e[f],f,e););return s?et(e,a?0:f,a?f+1:u):et(e,a?f+1:0,a?u:f)}function ma(e,t){var s=e;return s instanceof te&&(s=s.value()),Ri(t,function(a,u){return u.func.apply(u.thisArg,Wt([a],u.args))},s)}function os(e,t,s){var a=e.length;if(a<2)return a?Ut(e[0]):[];for(var u=-1,f=x(a);++u<a;)for(var d=e[u],p=-1;++p<a;)p!=u&&(f[u]=Jn(f[u]||d,e[p],t,s));return Ut(Se(f,1),t,s)}function _a(e,t,s){for(var a=-1,u=e.length,f=t.length,d={};++a<u;){var p=a<f?t[a]:n;s(d,e[a],p)}return d}function as(e){return ve(e)?e:[]}function us(e){return typeof e=="function"?e:Ue}function Ht(e,t){return z(e)?e:_s(e,t)?[e]:Qa(oe(e))}var Lh=Z;function Yt(e,t,s){var a=e.length;return s=s===n?a:s,!t&&s>=a?e:et(e,t,s)}var wa=vf||function(e){return Ie.clearTimeout(e)};function va(e,t){if(t)return e.slice();var s=e.length,a=qo?qo(s):new e.constructor(s);return e.copy(a),a}function ls(e){var t=new e.constructor(e.byteLength);return new Cr(t).set(new Cr(e)),t}function kh(e,t){var s=t?ls(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function Rh(e){var t=new e.constructor(e.source,to.exec(e));return t.lastIndex=e.lastIndex,t}function Dh(e){return Qn?le(Qn.call(e)):{}}function ba(e,t){var s=t?ls(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function ya(e,t){if(e!==t){var s=e!==n,a=e===null,u=e===e,f=Qe(e),d=t!==n,p=t===null,v=t===t,O=Qe(t);if(!p&&!O&&!f&&e>t||f&&d&&v&&!p&&!O||a&&d&&v||!s&&v||!u)return 1;if(!a&&!f&&!O&&e<t||O&&s&&u&&!a&&!f||p&&s&&u||!d&&u||!v)return-1}return 0}function $h(e,t,s){for(var a=-1,u=e.criteria,f=t.criteria,d=u.length,p=s.length;++a<d;){var v=ya(u[a],f[a]);if(v){if(a>=p)return v;var O=s[a];return v*(O=="desc"?-1:1)}}return e.index-t.index}function xa(e,t,s,a){for(var u=-1,f=e.length,d=s.length,p=-1,v=t.length,O=Ee(f-d,0),A=x(v+O),M=!a;++p<v;)A[p]=t[p];for(;++u<d;)(M||u<f)&&(A[s[u]]=e[u]);for(;O--;)A[p++]=e[u++];return A}function Ca(e,t,s,a){for(var u=-1,f=e.length,d=-1,p=s.length,v=-1,O=t.length,A=Ee(f-p,0),M=x(A+O),R=!a;++u<A;)M[u]=e[u];for(var q=u;++v<O;)M[q+v]=t[v];for(;++d<p;)(R||u<f)&&(M[q+s[d]]=e[u++]);return M}function Fe(e,t){var s=-1,a=e.length;for(t||(t=x(a));++s<a;)t[s]=e[s];return t}function pt(e,t,s,a){var u=!s;s||(s={});for(var f=-1,d=t.length;++f<d;){var p=t[f],v=a?a(s[p],e[p],p,s,e):n;v===n&&(v=e[p]),u?xt(s,p,v):Xn(s,p,v)}return s}function Nh(e,t){return pt(e,ms(e),t)}function Wh(e,t){return pt(e,$a(e),t)}function Wr(e,t){return function(s,a){var u=z(s)?Uc:oh,f=t?t():{};return u(s,e,Y(a,2),f)}}function xn(e){return Z(function(t,s){var a=-1,u=s.length,f=u>1?s[u-1]:n,d=u>2?s[2]:n;for(f=e.length>3&&typeof f=="function"?(u--,f):n,d&&$e(s[0],s[1],d)&&(f=u<3?n:f,u=1),t=le(t);++a<u;){var p=s[a];p&&e(t,p,a,f)}return t})}function Ta(e,t){return function(s,a){if(s==null)return s;if(!qe(s))return e(s,a);for(var u=s.length,f=t?u:-1,d=le(s);(t?f--:++f<u)&&a(d[f],f,d)!==!1;);return s}}function Ea(e){return function(t,s,a){for(var u=-1,f=le(t),d=a(t),p=d.length;p--;){var v=d[e?p:++u];if(s(f[v],v,f)===!1)break}return t}}function Fh(e,t,s){var a=t&y,u=Zn(e);function f(){var d=this&&this!==Ie&&this instanceof f?u:e;return d.apply(a?s:this,arguments)}return f}function Oa(e){return function(t){t=oe(t);var s=gn(t)?at(t):n,a=s?s[0]:t.charAt(0),u=s?Yt(s,1).join(""):t.slice(1);return a[e]()+u}}function Cn(e){return function(t){return Ri(Tu(Cu(t).replace(Pc,"")),e,"")}}function Zn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=yn(e.prototype),a=e.apply(s,t);return pe(a)?a:s}}function qh(e,t,s){var a=Zn(e);function u(){for(var f=arguments.length,d=x(f),p=f,v=Tn(u);p--;)d[p]=arguments[p];var O=f<3&&d[0]!==v&&d[f-1]!==v?[]:Ft(d,v);if(f-=O.length,f<s)return Sa(e,t,Fr,u.placeholder,n,d,O,n,n,s-f);var A=this&&this!==Ie&&this instanceof u?a:e;return He(A,this,d)}return u}function Aa(e){return function(t,s,a){var u=le(t);if(!qe(t)){var f=Y(s,3);t=Ae(t),s=function(p){return f(u[p],p,u)}}var d=e(t,s,a);return d>-1?u[f?t[d]:d]:n}}function Pa(e){return Tt(function(t){var s=t.length,a=s,u=Ze.prototype.thru;for(e&&t.reverse();a--;){var f=t[a];if(typeof f!="function")throw new Ve(m);if(u&&!d&&Hr(f)=="wrapper")var d=new Ze([],!0)}for(a=d?a:s;++a<s;){f=t[a];var p=Hr(f),v=p=="wrapper"?ps(f):n;v&&ws(v[0])&&v[1]==(j|P|H|U)&&!v[4].length&&v[9]==1?d=d[Hr(v[0])].apply(d,v[3]):d=f.length==1&&ws(f)?d[p]():d.thru(f)}return function(){var O=arguments,A=O[0];if(d&&O.length==1&&z(A))return d.plant(A).value();for(var M=0,R=s?t[M].apply(this,O):A;++M<s;)R=t[M].call(this,R);return R}})}function Fr(e,t,s,a,u,f,d,p,v,O){var A=t&j,M=t&y,R=t&k,q=t&(P|I),G=t&B,V=R?n:Zn(e);function Q(){for(var ee=arguments.length,ne=x(ee),Xe=ee;Xe--;)ne[Xe]=arguments[Xe];if(q)var Ne=Tn(Q),Je=Vc(ne,Ne);if(a&&(ne=xa(ne,a,u,q)),f&&(ne=Ca(ne,f,d,q)),ee-=Je,q&&ee<O){var be=Ft(ne,Ne);return Sa(e,t,Fr,Q.placeholder,s,ne,be,p,v,O-ee)}var ct=M?s:this,Pt=R?ct[e]:e;return ee=ne.length,p?ne=od(ne,p):G&&ee>1&&ne.reverse(),A&&v<ee&&(ne.length=v),this&&this!==Ie&&this instanceof Q&&(Pt=V||Zn(Pt)),Pt.apply(ct,ne)}return Q}function Ma(e,t){return function(s,a){return ph(s,e,t(a),{})}}function qr(e,t){return function(s,a){var u;if(s===n&&a===n)return t;if(s!==n&&(u=s),a!==n){if(u===n)return a;typeof s=="string"||typeof a=="string"?(s=Ge(s),a=Ge(a)):(s=pa(s),a=pa(a)),u=e(s,a)}return u}}function cs(e){return Tt(function(t){return t=de(t,Ye(Y())),Z(function(s){var a=this;return e(t,function(u){return He(u,a,s)})})})}function Br(e,t){t=t===n?" ":Ge(t);var s=t.length;if(s<2)return s?rs(t,e):t;var a=rs(t,Ar(e/mn(t)));return gn(t)?Yt(at(a),0,e).join(""):a.slice(0,e)}function Bh(e,t,s,a){var u=t&y,f=Zn(e);function d(){for(var p=-1,v=arguments.length,O=-1,A=a.length,M=x(A+v),R=this&&this!==Ie&&this instanceof d?f:e;++O<A;)M[O]=a[O];for(;v--;)M[O++]=arguments[++p];return He(R,u?s:this,M)}return d}function Ia(e){return function(t,s,a){return a&&typeof a!="number"&&$e(t,s,a)&&(s=a=n),t=At(t),s===n?(s=t,t=0):s=At(s),a=a===n?t<s?1:-1:At(a),Oh(t,s,a,e)}}function Ur(e){return function(t,s){return typeof t=="string"&&typeof s=="string"||(t=nt(t),s=nt(s)),e(t,s)}}function Sa(e,t,s,a,u,f,d,p,v,O){var A=t&P,M=A?d:n,R=A?n:d,q=A?f:n,G=A?n:f;t|=A?H:re,t&=~(A?re:H),t&S||(t&=~(y|k));var V=[e,t,u,q,M,G,R,p,v,O],Q=s.apply(n,V);return ws(e)&&Ha(Q,V),Q.placeholder=a,Ya(Q,e,t)}function fs(e){var t=Te[e];return function(s,a){if(s=nt(s),a=a==null?0:Le(K(a),292),a&&Yo(s)){var u=(oe(s)+"e").split("e"),f=t(u[0]+"e"+(+u[1]+a));return u=(oe(f)+"e").split("e"),+(u[0]+"e"+(+u[1]-a))}return t(s)}}var Uh=vn&&1/_r(new vn([,-0]))[1]==zt?function(e){return new vn(e)}:ks;function La(e){return function(t){var s=ke(t);return s==st?Bi(t):s==ot?sf(t):Kc(t,e(t))}}function Ct(e,t,s,a,u,f,d,p){var v=t&k;if(!v&&typeof e!="function")throw new Ve(m);var O=a?a.length:0;if(O||(t&=~(H|re),a=u=n),d=d===n?d:Ee(K(d),0),p=p===n?p:K(p),O-=u?u.length:0,t&re){var A=a,M=u;a=u=n}var R=v?n:ps(e),q=[e,t,s,a,u,A,M,f,d,p];if(R&&rd(q,R),e=q[0],t=q[1],s=q[2],a=q[3],u=q[4],p=q[9]=q[9]===n?v?0:e.length:Ee(q[9]-O,0),!p&&t&(P|I)&&(t&=~(P|I)),!t||t==y)var G=Fh(e,t,s);else t==P||t==I?G=qh(e,t,p):(t==H||t==(y|H))&&!u.length?G=Bh(e,t,s,a):G=Fr.apply(n,q);var V=R?ha:Ha;return Ya(V(G,q),e,t)}function ka(e,t,s,a){return e===n||lt(e,wn[s])&&!ae.call(a,s)?t:e}function Ra(e,t,s,a,u,f){return pe(e)&&pe(t)&&(f.set(t,e),Dr(e,t,n,Ra,f),f.delete(t)),e}function Hh(e){return tr(e)?n:e}function Da(e,t,s,a,u,f){var d=s&_,p=e.length,v=t.length;if(p!=v&&!(d&&v>p))return!1;var O=f.get(e),A=f.get(t);if(O&&A)return O==t&&A==e;var M=-1,R=!0,q=s&g?new jt:n;for(f.set(e,t),f.set(t,e);++M<p;){var G=e[M],V=t[M];if(a)var Q=d?a(V,G,M,t,e,f):a(G,V,M,e,t,f);if(Q!==n){if(Q)continue;R=!1;break}if(q){if(!Di(t,function(ee,ne){if(!Bn(q,ne)&&(G===ee||u(G,ee,s,a,f)))return q.push(ne)})){R=!1;break}}else if(!(G===V||u(G,V,s,a,f))){R=!1;break}}return f.delete(e),f.delete(t),R}function Yh(e,t,s,a,u,f,d){switch(s){case hn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qn:return!(e.byteLength!=t.byteLength||!f(new Cr(e),new Cr(t)));case Rn:case Dn:case $n:return lt(+e,+t);case lr:return e.name==t.name&&e.message==t.message;case Nn:case Wn:return e==t+"";case st:var p=Bi;case ot:var v=a&_;if(p||(p=_r),e.size!=t.size&&!v)return!1;var O=d.get(e);if(O)return O==t;a|=g,d.set(e,t);var A=Da(p(e),p(t),a,u,f,d);return d.delete(e),A;case fr:if(Qn)return Qn.call(e)==Qn.call(t)}return!1}function Gh(e,t,s,a,u,f){var d=s&_,p=hs(e),v=p.length,O=hs(t),A=O.length;if(v!=A&&!d)return!1;for(var M=v;M--;){var R=p[M];if(!(d?R in t:ae.call(t,R)))return!1}var q=f.get(e),G=f.get(t);if(q&&G)return q==t&&G==e;var V=!0;f.set(e,t),f.set(t,e);for(var Q=d;++M<v;){R=p[M];var ee=e[R],ne=t[R];if(a)var Xe=d?a(ne,ee,R,t,e,f):a(ee,ne,R,e,t,f);if(!(Xe===n?ee===ne||u(ee,ne,s,a,f):Xe)){V=!1;break}Q||(Q=R=="constructor")}if(V&&!Q){var Ne=e.constructor,Je=t.constructor;Ne!=Je&&"constructor"in e&&"constructor"in t&&!(typeof Ne=="function"&&Ne instanceof Ne&&typeof Je=="function"&&Je instanceof Je)&&(V=!1)}return f.delete(e),f.delete(t),V}function Tt(e){return bs(Ba(e,n,Ka),e+"")}function hs(e){return ta(e,Ae,ms)}function ds(e){return ta(e,Be,$a)}var ps=Mr?function(e){return Mr.get(e)}:ks;function Hr(e){for(var t=e.name+"",s=bn[t],a=ae.call(bn,t)?s.length:0;a--;){var u=s[a],f=u.func;if(f==null||f==e)return u.name}return t}function Tn(e){var t=ae.call(c,"placeholder")?c:e;return t.placeholder}function Y(){var e=c.iteratee||Ss;return e=e===Ss?ia:e,arguments.length?e(arguments[0],arguments[1]):e}function Yr(e,t){var s=e.__data__;return jh(t)?s[typeof t=="string"?"string":"hash"]:s.map}function gs(e){for(var t=Ae(e),s=t.length;s--;){var a=t[s],u=e[a];t[s]=[a,u,Fa(u)]}return t}function nn(e,t){var s=tf(e,t);return ra(s)?s:n}function Qh(e){var t=ae.call(e,Vt),s=e[Vt];try{e[Vt]=n;var a=!0}catch{}var u=yr.call(e);return a&&(t?e[Vt]=s:delete e[Vt]),u}var ms=Hi?function(e){return e==null?[]:(e=le(e),Nt(Hi(e),function(t){return Uo.call(e,t)}))}:Rs,$a=Hi?function(e){for(var t=[];e;)Wt(t,ms(e)),e=Tr(e);return t}:Rs,ke=De;(Yi&&ke(new Yi(new ArrayBuffer(1)))!=hn||Hn&&ke(new Hn)!=st||Gi&&ke(Gi.resolve())!=Vs||vn&&ke(new vn)!=ot||Yn&&ke(new Yn)!=Fn)&&(ke=function(e){var t=De(e),s=t==vt?e.constructor:n,a=s?rn(s):"";if(a)switch(a){case Pf:return hn;case Mf:return st;case If:return Vs;case Sf:return ot;case Lf:return Fn}return t});function Xh(e,t,s){for(var a=-1,u=s.length;++a<u;){var f=s[a],d=f.size;switch(f.type){case"drop":e+=d;break;case"dropRight":t-=d;break;case"take":t=Le(t,e+d);break;case"takeRight":e=Ee(e,t-d);break}}return{start:e,end:t}}function Jh(e){var t=e.match(jl);return t?t[1].split(ec):[]}function Na(e,t,s){t=Ht(t,e);for(var a=-1,u=t.length,f=!1;++a<u;){var d=gt(t[a]);if(!(f=e!=null&&s(e,d)))break;e=e[d]}return f||++a!=u?f:(u=e==null?0:e.length,!!u&&Vr(u)&&Et(d,u)&&(z(e)||sn(e)))}function zh(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&ae.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Wa(e){return typeof e.constructor=="function"&&!jn(e)?yn(Tr(e)):{}}function Kh(e,t,s){var a=e.constructor;switch(t){case qn:return ls(e);case Rn:case Dn:return new a(+e);case hn:return kh(e,s);case gi:case mi:case _i:case wi:case vi:case bi:case yi:case xi:case Ci:return ba(e,s);case st:return new a;case $n:case Wn:return new a(e);case Nn:return Rh(e);case ot:return new a;case fr:return Dh(e)}}function Vh(e,t){var s=t.length;if(!s)return e;var a=s-1;return t[a]=(s>1?"& ":"")+t[a],t=t.join(s>2?", ":" "),e.replace(Zl,`{
/* [wrapped with `+t+`] */
`)}function Zh(e){return z(e)||sn(e)||!!(Ho&&e&&e[Ho])}function Et(e,t){var s=typeof e;return t=t??$t,!!t&&(s=="number"||s!="symbol"&&lc.test(e))&&e>-1&&e%1==0&&e<t}function $e(e,t,s){if(!pe(s))return!1;var a=typeof t;return(a=="number"?qe(s)&&Et(t,s.length):a=="string"&&t in s)?lt(s[t],e):!1}function _s(e,t){if(z(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||Qe(e)?!0:Jl.test(e)||!Xl.test(e)||t!=null&&e in le(t)}function jh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ws(e){var t=Hr(e),s=c[t];if(typeof s!="function"||!(t in te.prototype))return!1;if(e===s)return!0;var a=ps(s);return!!a&&e===a[0]}function ed(e){return!!Fo&&Fo in e}var td=vr?Ot:Ds;function jn(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||wn;return e===s}function Fa(e){return e===e&&!pe(e)}function qa(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==n||e in le(s))}}function nd(e){var t=zr(e,function(a){return s.size===L&&s.clear(),a}),s=t.cache;return t}function rd(e,t){var s=e[1],a=t[1],u=s|a,f=u<(y|k|j),d=a==j&&s==P||a==j&&s==U&&e[7].length<=t[8]||a==(j|U)&&t[7].length<=t[8]&&s==P;if(!(f||d))return e;a&y&&(e[2]=t[2],u|=s&y?0:S);var p=t[3];if(p){var v=e[3];e[3]=v?xa(v,p,t[4]):p,e[4]=v?Ft(e[3],C):t[4]}return p=t[5],p&&(v=e[5],e[5]=v?Ca(v,p,t[6]):p,e[6]=v?Ft(e[5],C):t[6]),p=t[7],p&&(e[7]=p),a&j&&(e[8]=e[8]==null?t[8]:Le(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function id(e){var t=[];if(e!=null)for(var s in le(e))t.push(s);return t}function sd(e){return yr.call(e)}function Ba(e,t,s){return t=Ee(t===n?e.length-1:t,0),function(){for(var a=arguments,u=-1,f=Ee(a.length-t,0),d=x(f);++u<f;)d[u]=a[t+u];u=-1;for(var p=x(t+1);++u<t;)p[u]=a[u];return p[t]=s(d),He(e,this,p)}}function Ua(e,t){return t.length<2?e:tn(e,et(t,0,-1))}function od(e,t){for(var s=e.length,a=Le(t.length,s),u=Fe(e);a--;){var f=t[a];e[a]=Et(f,s)?u[f]:n}return e}function vs(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ha=Ga(ha),er=yf||function(e,t){return Ie.setTimeout(e,t)},bs=Ga(Mh);function Ya(e,t,s){var a=t+"";return bs(e,Vh(a,ad(Jh(a),s)))}function Ga(e){var t=0,s=0;return function(){var a=Ef(),u=Rt-(a-s);if(s=a,u>0){if(++t>=it)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Gr(e,t){var s=-1,a=e.length,u=a-1;for(t=t===n?a:t;++s<t;){var f=ns(s,u),d=e[f];e[f]=e[s],e[s]=d}return e.length=t,e}var Qa=nd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zl,function(s,a,u,f){t.push(u?f.replace(rc,"$1"):a||s)}),t});function gt(e){if(typeof e=="string"||Qe(e))return e;var t=e+"";return t=="0"&&1/e==-zt?"-0":t}function rn(e){if(e!=null){try{return br.call(e)}catch{}try{return e+""}catch{}}return""}function ad(e,t){return Ke(kl,function(s){var a="_."+s[0];t&s[1]&&!gr(e,a)&&e.push(a)}),e.sort()}function Xa(e){if(e instanceof te)return e.clone();var t=new Ze(e.__wrapped__,e.__chain__);return t.__actions__=Fe(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ud(e,t,s){(s?$e(e,t,s):t===n)?t=1:t=Ee(K(t),0);var a=e==null?0:e.length;if(!a||t<1)return[];for(var u=0,f=0,d=x(Ar(a/t));u<a;)d[f++]=et(e,u,u+=t);return d}function ld(e){for(var t=-1,s=e==null?0:e.length,a=0,u=[];++t<s;){var f=e[t];f&&(u[a++]=f)}return u}function cd(){var e=arguments.length;if(!e)return[];for(var t=x(e-1),s=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Wt(z(s)?Fe(s):[s],Se(t,1))}var fd=Z(function(e,t){return ve(e)?Jn(e,Se(t,1,ve,!0)):[]}),hd=Z(function(e,t){var s=tt(t);return ve(s)&&(s=n),ve(e)?Jn(e,Se(t,1,ve,!0),Y(s,2)):[]}),dd=Z(function(e,t){var s=tt(t);return ve(s)&&(s=n),ve(e)?Jn(e,Se(t,1,ve,!0),n,s):[]});function pd(e,t,s){var a=e==null?0:e.length;return a?(t=s||t===n?1:K(t),et(e,t<0?0:t,a)):[]}function gd(e,t,s){var a=e==null?0:e.length;return a?(t=s||t===n?1:K(t),t=a-t,et(e,0,t<0?0:t)):[]}function md(e,t){return e&&e.length?Nr(e,Y(t,3),!0,!0):[]}function _d(e,t){return e&&e.length?Nr(e,Y(t,3),!0):[]}function wd(e,t,s,a){var u=e==null?0:e.length;return u?(s&&typeof s!="number"&&$e(e,t,s)&&(s=0,a=u),ch(e,t,s,a)):[]}function Ja(e,t,s){var a=e==null?0:e.length;if(!a)return-1;var u=s==null?0:K(s);return u<0&&(u=Ee(a+u,0)),mr(e,Y(t,3),u)}function za(e,t,s){var a=e==null?0:e.length;if(!a)return-1;var u=a-1;return s!==n&&(u=K(s),u=s<0?Ee(a+u,0):Le(u,a-1)),mr(e,Y(t,3),u,!0)}function Ka(e){var t=e==null?0:e.length;return t?Se(e,1):[]}function vd(e){var t=e==null?0:e.length;return t?Se(e,zt):[]}function bd(e,t){var s=e==null?0:e.length;return s?(t=t===n?1:K(t),Se(e,t)):[]}function yd(e){for(var t=-1,s=e==null?0:e.length,a={};++t<s;){var u=e[t];a[u[0]]=u[1]}return a}function Va(e){return e&&e.length?e[0]:n}function xd(e,t,s){var a=e==null?0:e.length;if(!a)return-1;var u=s==null?0:K(s);return u<0&&(u=Ee(a+u,0)),pn(e,t,u)}function Cd(e){var t=e==null?0:e.length;return t?et(e,0,-1):[]}var Td=Z(function(e){var t=de(e,as);return t.length&&t[0]===e[0]?Vi(t):[]}),Ed=Z(function(e){var t=tt(e),s=de(e,as);return t===tt(s)?t=n:s.pop(),s.length&&s[0]===e[0]?Vi(s,Y(t,2)):[]}),Od=Z(function(e){var t=tt(e),s=de(e,as);return t=typeof t=="function"?t:n,t&&s.pop(),s.length&&s[0]===e[0]?Vi(s,n,t):[]});function Ad(e,t){return e==null?"":Cf.call(e,t)}function tt(e){var t=e==null?0:e.length;return t?e[t-1]:n}function Pd(e,t,s){var a=e==null?0:e.length;if(!a)return-1;var u=a;return s!==n&&(u=K(s),u=u<0?Ee(a+u,0):Le(u,a-1)),t===t?af(e,t,u):mr(e,So,u,!0)}function Md(e,t){return e&&e.length?ua(e,K(t)):n}var Id=Z(Za);function Za(e,t){return e&&e.length&&t&&t.length?ts(e,t):e}function Sd(e,t,s){return e&&e.length&&t&&t.length?ts(e,t,Y(s,2)):e}function Ld(e,t,s){return e&&e.length&&t&&t.length?ts(e,t,n,s):e}var kd=Tt(function(e,t){var s=e==null?0:e.length,a=Xi(e,t);return fa(e,de(t,function(u){return Et(u,s)?+u:u}).sort(ya)),a});function Rd(e,t){var s=[];if(!(e&&e.length))return s;var a=-1,u=[],f=e.length;for(t=Y(t,3);++a<f;){var d=e[a];t(d,a,e)&&(s.push(d),u.push(a))}return fa(e,u),s}function ys(e){return e==null?e:Af.call(e)}function Dd(e,t,s){var a=e==null?0:e.length;return a?(s&&typeof s!="number"&&$e(e,t,s)?(t=0,s=a):(t=t==null?0:K(t),s=s===n?a:K(s)),et(e,t,s)):[]}function $d(e,t){return $r(e,t)}function Nd(e,t,s){return is(e,t,Y(s,2))}function Wd(e,t){var s=e==null?0:e.length;if(s){var a=$r(e,t);if(a<s&&lt(e[a],t))return a}return-1}function Fd(e,t){return $r(e,t,!0)}function qd(e,t,s){return is(e,t,Y(s,2),!0)}function Bd(e,t){var s=e==null?0:e.length;if(s){var a=$r(e,t,!0)-1;if(lt(e[a],t))return a}return-1}function Ud(e){return e&&e.length?da(e):[]}function Hd(e,t){return e&&e.length?da(e,Y(t,2)):[]}function Yd(e){var t=e==null?0:e.length;return t?et(e,1,t):[]}function Gd(e,t,s){return e&&e.length?(t=s||t===n?1:K(t),et(e,0,t<0?0:t)):[]}function Qd(e,t,s){var a=e==null?0:e.length;return a?(t=s||t===n?1:K(t),t=a-t,et(e,t<0?0:t,a)):[]}function Xd(e,t){return e&&e.length?Nr(e,Y(t,3),!1,!0):[]}function Jd(e,t){return e&&e.length?Nr(e,Y(t,3)):[]}var zd=Z(function(e){return Ut(Se(e,1,ve,!0))}),Kd=Z(function(e){var t=tt(e);return ve(t)&&(t=n),Ut(Se(e,1,ve,!0),Y(t,2))}),Vd=Z(function(e){var t=tt(e);return t=typeof t=="function"?t:n,Ut(Se(e,1,ve,!0),n,t)});function Zd(e){return e&&e.length?Ut(e):[]}function jd(e,t){return e&&e.length?Ut(e,Y(t,2)):[]}function ep(e,t){return t=typeof t=="function"?t:n,e&&e.length?Ut(e,n,t):[]}function xs(e){if(!(e&&e.length))return[];var t=0;return e=Nt(e,function(s){if(ve(s))return t=Ee(s.length,t),!0}),Fi(t,function(s){return de(e,$i(s))})}function ja(e,t){if(!(e&&e.length))return[];var s=xs(e);return t==null?s:de(s,function(a){return He(t,n,a)})}var tp=Z(function(e,t){return ve(e)?Jn(e,t):[]}),np=Z(function(e){return os(Nt(e,ve))}),rp=Z(function(e){var t=tt(e);return ve(t)&&(t=n),os(Nt(e,ve),Y(t,2))}),ip=Z(function(e){var t=tt(e);return t=typeof t=="function"?t:n,os(Nt(e,ve),n,t)}),sp=Z(xs);function op(e,t){return _a(e||[],t||[],Xn)}function ap(e,t){return _a(e||[],t||[],Vn)}var up=Z(function(e){var t=e.length,s=t>1?e[t-1]:n;return s=typeof s=="function"?(e.pop(),s):n,ja(e,s)});function eu(e){var t=c(e);return t.__chain__=!0,t}function lp(e,t){return t(e),e}function Qr(e,t){return t(e)}var cp=Tt(function(e){var t=e.length,s=t?e[0]:0,a=this.__wrapped__,u=function(f){return Xi(f,e)};return t>1||this.__actions__.length||!(a instanceof te)||!Et(s)?this.thru(u):(a=a.slice(s,+s+(t?1:0)),a.__actions__.push({func:Qr,args:[u],thisArg:n}),new Ze(a,this.__chain__).thru(function(f){return t&&!f.length&&f.push(n),f}))});function fp(){return eu(this)}function hp(){return new Ze(this.value(),this.__chain__)}function dp(){this.__values__===n&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function pp(){return this}function gp(e){for(var t,s=this;s instanceof Sr;){var a=Xa(s);a.__index__=0,a.__values__=n,t?u.__wrapped__=a:t=a;var u=a;s=s.__wrapped__}return u.__wrapped__=e,t}function mp(){var e=this.__wrapped__;if(e instanceof te){var t=e;return this.__actions__.length&&(t=new te(this)),t=t.reverse(),t.__actions__.push({func:Qr,args:[ys],thisArg:n}),new Ze(t,this.__chain__)}return this.thru(ys)}function _p(){return ma(this.__wrapped__,this.__actions__)}var wp=Wr(function(e,t,s){ae.call(e,s)?++e[s]:xt(e,s,1)});function vp(e,t,s){var a=z(e)?Mo:lh;return s&&$e(e,t,s)&&(t=n),a(e,Y(t,3))}function bp(e,t){var s=z(e)?Nt:jo;return s(e,Y(t,3))}var yp=Aa(Ja),xp=Aa(za);function Cp(e,t){return Se(Xr(e,t),1)}function Tp(e,t){return Se(Xr(e,t),zt)}function Ep(e,t,s){return s=s===n?1:K(s),Se(Xr(e,t),s)}function tu(e,t){var s=z(e)?Ke:Bt;return s(e,Y(t,3))}function nu(e,t){var s=z(e)?Hc:Zo;return s(e,Y(t,3))}var Op=Wr(function(e,t,s){ae.call(e,s)?e[s].push(t):xt(e,s,[t])});function Ap(e,t,s,a){e=qe(e)?e:On(e),s=s&&!a?K(s):0;var u=e.length;return s<0&&(s=Ee(u+s,0)),Zr(e)?s<=u&&e.indexOf(t,s)>-1:!!u&&pn(e,t,s)>-1}var Pp=Z(function(e,t,s){var a=-1,u=typeof t=="function",f=qe(e)?x(e.length):[];return Bt(e,function(d){f[++a]=u?He(t,d,s):zn(d,t,s)}),f}),Mp=Wr(function(e,t,s){xt(e,s,t)});function Xr(e,t){var s=z(e)?de:sa;return s(e,Y(t,3))}function Ip(e,t,s,a){return e==null?[]:(z(t)||(t=t==null?[]:[t]),s=a?n:s,z(s)||(s=s==null?[]:[s]),la(e,t,s))}var Sp=Wr(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]});function Lp(e,t,s){var a=z(e)?Ri:ko,u=arguments.length<3;return a(e,Y(t,4),s,u,Bt)}function kp(e,t,s){var a=z(e)?Yc:ko,u=arguments.length<3;return a(e,Y(t,4),s,u,Zo)}function Rp(e,t){var s=z(e)?Nt:jo;return s(e,Kr(Y(t,3)))}function Dp(e){var t=z(e)?Jo:Ah;return t(e)}function $p(e,t,s){(s?$e(e,t,s):t===n)?t=1:t=K(t);var a=z(e)?ih:Ph;return a(e,t)}function Np(e){var t=z(e)?sh:Ih;return t(e)}function Wp(e){if(e==null)return 0;if(qe(e))return Zr(e)?mn(e):e.length;var t=ke(e);return t==st||t==ot?e.size:ji(e).length}function Fp(e,t,s){var a=z(e)?Di:Sh;return s&&$e(e,t,s)&&(t=n),a(e,Y(t,3))}var qp=Z(function(e,t){if(e==null)return[];var s=t.length;return s>1&&$e(e,t[0],t[1])?t=[]:s>2&&$e(t[0],t[1],t[2])&&(t=[t[0]]),la(e,Se(t,1),[])}),Jr=bf||function(){return Ie.Date.now()};function Bp(e,t){if(typeof t!="function")throw new Ve(m);return e=K(e),function(){if(--e<1)return t.apply(this,arguments)}}function ru(e,t,s){return t=s?n:t,t=e&&t==null?e.length:t,Ct(e,j,n,n,n,n,t)}function iu(e,t){var s;if(typeof t!="function")throw new Ve(m);return e=K(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=n),s}}var Cs=Z(function(e,t,s){var a=y;if(s.length){var u=Ft(s,Tn(Cs));a|=H}return Ct(e,a,t,s,u)}),su=Z(function(e,t,s){var a=y|k;if(s.length){var u=Ft(s,Tn(su));a|=H}return Ct(t,a,e,s,u)});function ou(e,t,s){t=s?n:t;var a=Ct(e,P,n,n,n,n,n,t);return a.placeholder=ou.placeholder,a}function au(e,t,s){t=s?n:t;var a=Ct(e,I,n,n,n,n,n,t);return a.placeholder=au.placeholder,a}function uu(e,t,s){var a,u,f,d,p,v,O=0,A=!1,M=!1,R=!0;if(typeof e!="function")throw new Ve(m);t=nt(t)||0,pe(s)&&(A=!!s.leading,M="maxWait"in s,f=M?Ee(nt(s.maxWait)||0,t):f,R="trailing"in s?!!s.trailing:R);function q(be){var ct=a,Pt=u;return a=u=n,O=be,d=e.apply(Pt,ct),d}function G(be){return O=be,p=er(ee,t),A?q(be):d}function V(be){var ct=be-v,Pt=be-O,Au=t-ct;return M?Le(Au,f-Pt):Au}function Q(be){var ct=be-v,Pt=be-O;return v===n||ct>=t||ct<0||M&&Pt>=f}function ee(){var be=Jr();if(Q(be))return ne(be);p=er(ee,V(be))}function ne(be){return p=n,R&&a?q(be):(a=u=n,d)}function Xe(){p!==n&&wa(p),O=0,a=v=u=p=n}function Ne(){return p===n?d:ne(Jr())}function Je(){var be=Jr(),ct=Q(be);if(a=arguments,u=this,v=be,ct){if(p===n)return G(v);if(M)return wa(p),p=er(ee,t),q(v)}return p===n&&(p=er(ee,t)),d}return Je.cancel=Xe,Je.flush=Ne,Je}var Up=Z(function(e,t){return Vo(e,1,t)}),Hp=Z(function(e,t,s){return Vo(e,nt(t)||0,s)});function Yp(e){return Ct(e,B)}function zr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ve(m);var s=function(){var a=arguments,u=t?t.apply(this,a):a[0],f=s.cache;if(f.has(u))return f.get(u);var d=e.apply(this,a);return s.cache=f.set(u,d)||f,d};return s.cache=new(zr.Cache||yt),s}zr.Cache=yt;function Kr(e){if(typeof e!="function")throw new Ve(m);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Gp(e){return iu(2,e)}var Qp=Lh(function(e,t){t=t.length==1&&z(t[0])?de(t[0],Ye(Y())):de(Se(t,1),Ye(Y()));var s=t.length;return Z(function(a){for(var u=-1,f=Le(a.length,s);++u<f;)a[u]=t[u].call(this,a[u]);return He(e,this,a)})}),Ts=Z(function(e,t){var s=Ft(t,Tn(Ts));return Ct(e,H,n,t,s)}),lu=Z(function(e,t){var s=Ft(t,Tn(lu));return Ct(e,re,n,t,s)}),Xp=Tt(function(e,t){return Ct(e,U,n,n,n,t)});function Jp(e,t){if(typeof e!="function")throw new Ve(m);return t=t===n?t:K(t),Z(e,t)}function zp(e,t){if(typeof e!="function")throw new Ve(m);return t=t==null?0:Ee(K(t),0),Z(function(s){var a=s[t],u=Yt(s,0,t);return a&&Wt(u,a),He(e,this,u)})}function Kp(e,t,s){var a=!0,u=!0;if(typeof e!="function")throw new Ve(m);return pe(s)&&(a="leading"in s?!!s.leading:a,u="trailing"in s?!!s.trailing:u),uu(e,t,{leading:a,maxWait:t,trailing:u})}function Vp(e){return ru(e,1)}function Zp(e,t){return Ts(us(t),e)}function jp(){if(!arguments.length)return[];var e=arguments[0];return z(e)?e:[e]}function eg(e){return je(e,W)}function tg(e,t){return t=typeof t=="function"?t:n,je(e,W,t)}function ng(e){return je(e,D|W)}function rg(e,t){return t=typeof t=="function"?t:n,je(e,D|W,t)}function ig(e,t){return t==null||Ko(e,t,Ae(t))}function lt(e,t){return e===t||e!==e&&t!==t}var sg=Ur(Ki),og=Ur(function(e,t){return e>=t}),sn=na(function(){return arguments}())?na:function(e){return me(e)&&ae.call(e,"callee")&&!Uo.call(e,"callee")},z=x.isArray,ag=Co?Ye(Co):gh;function qe(e){return e!=null&&Vr(e.length)&&!Ot(e)}function ve(e){return me(e)&&qe(e)}function ug(e){return e===!0||e===!1||me(e)&&De(e)==Rn}var Gt=xf||Ds,lg=To?Ye(To):mh;function cg(e){return me(e)&&e.nodeType===1&&!tr(e)}function fg(e){if(e==null)return!0;if(qe(e)&&(z(e)||typeof e=="string"||typeof e.splice=="function"||Gt(e)||En(e)||sn(e)))return!e.length;var t=ke(e);if(t==st||t==ot)return!e.size;if(jn(e))return!ji(e).length;for(var s in e)if(ae.call(e,s))return!1;return!0}function hg(e,t){return Kn(e,t)}function dg(e,t,s){s=typeof s=="function"?s:n;var a=s?s(e,t):n;return a===n?Kn(e,t,n,s):!!a}function Es(e){if(!me(e))return!1;var t=De(e);return t==lr||t==Dl||typeof e.message=="string"&&typeof e.name=="string"&&!tr(e)}function pg(e){return typeof e=="number"&&Yo(e)}function Ot(e){if(!pe(e))return!1;var t=De(e);return t==cr||t==Ks||t==Rl||t==Nl}function cu(e){return typeof e=="number"&&e==K(e)}function Vr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$t}function pe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function me(e){return e!=null&&typeof e=="object"}var fu=Eo?Ye(Eo):wh;function gg(e,t){return e===t||Zi(e,t,gs(t))}function mg(e,t,s){return s=typeof s=="function"?s:n,Zi(e,t,gs(t),s)}function _g(e){return hu(e)&&e!=+e}function wg(e){if(td(e))throw new J(h);return ra(e)}function vg(e){return e===null}function bg(e){return e==null}function hu(e){return typeof e=="number"||me(e)&&De(e)==$n}function tr(e){if(!me(e)||De(e)!=vt)return!1;var t=Tr(e);if(t===null)return!0;var s=ae.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&br.call(s)==mf}var Os=Oo?Ye(Oo):vh;function yg(e){return cu(e)&&e>=-$t&&e<=$t}var du=Ao?Ye(Ao):bh;function Zr(e){return typeof e=="string"||!z(e)&&me(e)&&De(e)==Wn}function Qe(e){return typeof e=="symbol"||me(e)&&De(e)==fr}var En=Po?Ye(Po):yh;function xg(e){return e===n}function Cg(e){return me(e)&&ke(e)==Fn}function Tg(e){return me(e)&&De(e)==Fl}var Eg=Ur(es),Og=Ur(function(e,t){return e<=t});function pu(e){if(!e)return[];if(qe(e))return Zr(e)?at(e):Fe(e);if(Un&&e[Un])return rf(e[Un]());var t=ke(e),s=t==st?Bi:t==ot?_r:On;return s(e)}function At(e){if(!e)return e===0?e:0;if(e=nt(e),e===zt||e===-zt){var t=e<0?-1:1;return t*Il}return e===e?e:0}function K(e){var t=At(e),s=t%1;return t===t?s?t-s:t:0}function gu(e){return e?en(K(e),0,ht):0}function nt(e){if(typeof e=="number")return e;if(Qe(e))return ar;if(pe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ro(e);var s=oc.test(e);return s||uc.test(e)?qc(e.slice(2),s?2:8):sc.test(e)?ar:+e}function mu(e){return pt(e,Be(e))}function Ag(e){return e?en(K(e),-$t,$t):e===0?e:0}function oe(e){return e==null?"":Ge(e)}var Pg=xn(function(e,t){if(jn(t)||qe(t)){pt(t,Ae(t),e);return}for(var s in t)ae.call(t,s)&&Xn(e,s,t[s])}),_u=xn(function(e,t){pt(t,Be(t),e)}),jr=xn(function(e,t,s,a){pt(t,Be(t),e,a)}),Mg=xn(function(e,t,s,a){pt(t,Ae(t),e,a)}),Ig=Tt(Xi);function Sg(e,t){var s=yn(e);return t==null?s:zo(s,t)}var Lg=Z(function(e,t){e=le(e);var s=-1,a=t.length,u=a>2?t[2]:n;for(u&&$e(t[0],t[1],u)&&(a=1);++s<a;)for(var f=t[s],d=Be(f),p=-1,v=d.length;++p<v;){var O=d[p],A=e[O];(A===n||lt(A,wn[O])&&!ae.call(e,O))&&(e[O]=f[O])}return e}),kg=Z(function(e){return e.push(n,Ra),He(wu,n,e)});function Rg(e,t){return Io(e,Y(t,3),dt)}function Dg(e,t){return Io(e,Y(t,3),zi)}function $g(e,t){return e==null?e:Ji(e,Y(t,3),Be)}function Ng(e,t){return e==null?e:ea(e,Y(t,3),Be)}function Wg(e,t){return e&&dt(e,Y(t,3))}function Fg(e,t){return e&&zi(e,Y(t,3))}function qg(e){return e==null?[]:Rr(e,Ae(e))}function Bg(e){return e==null?[]:Rr(e,Be(e))}function As(e,t,s){var a=e==null?n:tn(e,t);return a===n?s:a}function Ug(e,t){return e!=null&&Na(e,t,fh)}function Ps(e,t){return e!=null&&Na(e,t,hh)}var Hg=Ma(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=yr.call(t)),e[t]=s},Is(Ue)),Yg=Ma(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=yr.call(t)),ae.call(e,t)?e[t].push(s):e[t]=[s]},Y),Gg=Z(zn);function Ae(e){return qe(e)?Xo(e):ji(e)}function Be(e){return qe(e)?Xo(e,!0):xh(e)}function Qg(e,t){var s={};return t=Y(t,3),dt(e,function(a,u,f){xt(s,t(a,u,f),a)}),s}function Xg(e,t){var s={};return t=Y(t,3),dt(e,function(a,u,f){xt(s,u,t(a,u,f))}),s}var Jg=xn(function(e,t,s){Dr(e,t,s)}),wu=xn(function(e,t,s,a){Dr(e,t,s,a)}),zg=Tt(function(e,t){var s={};if(e==null)return s;var a=!1;t=de(t,function(f){return f=Ht(f,e),a||(a=f.length>1),f}),pt(e,ds(e),s),a&&(s=je(s,D|$|W,Hh));for(var u=t.length;u--;)ss(s,t[u]);return s});function Kg(e,t){return vu(e,Kr(Y(t)))}var Vg=Tt(function(e,t){return e==null?{}:Th(e,t)});function vu(e,t){if(e==null)return{};var s=de(ds(e),function(a){return[a]});return t=Y(t),ca(e,s,function(a,u){return t(a,u[0])})}function Zg(e,t,s){t=Ht(t,e);var a=-1,u=t.length;for(u||(u=1,e=n);++a<u;){var f=e==null?n:e[gt(t[a])];f===n&&(a=u,f=s),e=Ot(f)?f.call(e):f}return e}function jg(e,t,s){return e==null?e:Vn(e,t,s)}function em(e,t,s,a){return a=typeof a=="function"?a:n,e==null?e:Vn(e,t,s,a)}var bu=La(Ae),yu=La(Be);function tm(e,t,s){var a=z(e),u=a||Gt(e)||En(e);if(t=Y(t,4),s==null){var f=e&&e.constructor;u?s=a?new f:[]:pe(e)?s=Ot(f)?yn(Tr(e)):{}:s={}}return(u?Ke:dt)(e,function(d,p,v){return t(s,d,p,v)}),s}function nm(e,t){return e==null?!0:ss(e,t)}function rm(e,t,s){return e==null?e:ga(e,t,us(s))}function im(e,t,s,a){return a=typeof a=="function"?a:n,e==null?e:ga(e,t,us(s),a)}function On(e){return e==null?[]:qi(e,Ae(e))}function sm(e){return e==null?[]:qi(e,Be(e))}function om(e,t,s){return s===n&&(s=t,t=n),s!==n&&(s=nt(s),s=s===s?s:0),t!==n&&(t=nt(t),t=t===t?t:0),en(nt(e),t,s)}function am(e,t,s){return t=At(t),s===n?(s=t,t=0):s=At(s),e=nt(e),dh(e,t,s)}function um(e,t,s){if(s&&typeof s!="boolean"&&$e(e,t,s)&&(t=s=n),s===n&&(typeof t=="boolean"?(s=t,t=n):typeof e=="boolean"&&(s=e,e=n)),e===n&&t===n?(e=0,t=1):(e=At(e),t===n?(t=e,e=0):t=At(t)),e>t){var a=e;e=t,t=a}if(s||e%1||t%1){var u=Go();return Le(e+u*(t-e+Fc("1e-"+((u+"").length-1))),t)}return ns(e,t)}var lm=Cn(function(e,t,s){return t=t.toLowerCase(),e+(s?xu(t):t)});function xu(e){return Ms(oe(e).toLowerCase())}function Cu(e){return e=oe(e),e&&e.replace(cc,Zc).replace(Mc,"")}function cm(e,t,s){e=oe(e),t=Ge(t);var a=e.length;s=s===n?a:en(K(s),0,a);var u=s;return s-=t.length,s>=0&&e.slice(s,u)==t}function fm(e){return e=oe(e),e&&Yl.test(e)?e.replace(js,jc):e}function hm(e){return e=oe(e),e&&Kl.test(e)?e.replace(Ti,"\\$&"):e}var dm=Cn(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),pm=Cn(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),gm=Oa("toLowerCase");function mm(e,t,s){e=oe(e),t=K(t);var a=t?mn(e):0;if(!t||a>=t)return e;var u=(t-a)/2;return Br(Pr(u),s)+e+Br(Ar(u),s)}function _m(e,t,s){e=oe(e),t=K(t);var a=t?mn(e):0;return t&&a<t?e+Br(t-a,s):e}function wm(e,t,s){e=oe(e),t=K(t);var a=t?mn(e):0;return t&&a<t?Br(t-a,s)+e:e}function vm(e,t,s){return s||t==null?t=0:t&&(t=+t),Of(oe(e).replace(Ei,""),t||0)}function bm(e,t,s){return(s?$e(e,t,s):t===n)?t=1:t=K(t),rs(oe(e),t)}function ym(){var e=arguments,t=oe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var xm=Cn(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()});function Cm(e,t,s){return s&&typeof s!="number"&&$e(e,t,s)&&(t=s=n),s=s===n?ht:s>>>0,s?(e=oe(e),e&&(typeof t=="string"||t!=null&&!Os(t))&&(t=Ge(t),!t&&gn(e))?Yt(at(e),0,s):e.split(t,s)):[]}var Tm=Cn(function(e,t,s){return e+(s?" ":"")+Ms(t)});function Em(e,t,s){return e=oe(e),s=s==null?0:en(K(s),0,e.length),t=Ge(t),e.slice(s,s+t.length)==t}function Om(e,t,s){var a=c.templateSettings;s&&$e(e,t,s)&&(t=n),e=oe(e),t=jr({},t,a,ka);var u=jr({},t.imports,a.imports,ka),f=Ae(u),d=qi(u,f),p,v,O=0,A=t.interpolate||hr,M="__p += '",R=Ui((t.escape||hr).source+"|"+A.source+"|"+(A===eo?ic:hr).source+"|"+(t.evaluate||hr).source+"|$","g"),q="//# sourceURL="+(ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rc+"]")+`
`;e.replace(R,function(Q,ee,ne,Xe,Ne,Je){return ne||(ne=Xe),M+=e.slice(O,Je).replace(fc,ef),ee&&(p=!0,M+=`' +
__e(`+ee+`) +
'`),Ne&&(v=!0,M+=`';
`+Ne+`;
__p += '`),ne&&(M+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),O=Je+Q.length,Q}),M+=`';
`;var G=ae.call(t,"variable")&&t.variable;if(!G)M=`with (obj) {
`+M+`
}
`;else if(nc.test(G))throw new J(b);M=(v?M.replace(ql,""):M).replace(Bl,"$1").replace(Ul,"$1;"),M="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var V=Eu(function(){return ie(f,q+"return "+M).apply(n,d)});if(V.source=M,Es(V))throw V;return V}function Am(e){return oe(e).toLowerCase()}function Pm(e){return oe(e).toUpperCase()}function Mm(e,t,s){if(e=oe(e),e&&(s||t===n))return Ro(e);if(!e||!(t=Ge(t)))return e;var a=at(e),u=at(t),f=Do(a,u),d=$o(a,u)+1;return Yt(a,f,d).join("")}function Im(e,t,s){if(e=oe(e),e&&(s||t===n))return e.slice(0,Wo(e)+1);if(!e||!(t=Ge(t)))return e;var a=at(e),u=$o(a,at(t))+1;return Yt(a,0,u).join("")}function Sm(e,t,s){if(e=oe(e),e&&(s||t===n))return e.replace(Ei,"");if(!e||!(t=Ge(t)))return e;var a=at(e),u=Do(a,at(t));return Yt(a,u).join("")}function Lm(e,t){var s=N,a=ce;if(pe(t)){var u="separator"in t?t.separator:u;s="length"in t?K(t.length):s,a="omission"in t?Ge(t.omission):a}e=oe(e);var f=e.length;if(gn(e)){var d=at(e);f=d.length}if(s>=f)return e;var p=s-mn(a);if(p<1)return a;var v=d?Yt(d,0,p).join(""):e.slice(0,p);if(u===n)return v+a;if(d&&(p+=v.length-p),Os(u)){if(e.slice(p).search(u)){var O,A=v;for(u.global||(u=Ui(u.source,oe(to.exec(u))+"g")),u.lastIndex=0;O=u.exec(A);)var M=O.index;v=v.slice(0,M===n?p:M)}}else if(e.indexOf(Ge(u),p)!=p){var R=v.lastIndexOf(u);R>-1&&(v=v.slice(0,R))}return v+a}function km(e){return e=oe(e),e&&Hl.test(e)?e.replace(Zs,uf):e}var Rm=Cn(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),Ms=Oa("toUpperCase");function Tu(e,t,s){return e=oe(e),t=s?n:t,t===n?nf(e)?ff(e):Xc(e):e.match(t)||[]}var Eu=Z(function(e,t){try{return He(e,n,t)}catch(s){return Es(s)?s:new J(s)}}),Dm=Tt(function(e,t){return Ke(t,function(s){s=gt(s),xt(e,s,Cs(e[s],e))}),e});function $m(e){var t=e==null?0:e.length,s=Y();return e=t?de(e,function(a){if(typeof a[1]!="function")throw new Ve(m);return[s(a[0]),a[1]]}):[],Z(function(a){for(var u=-1;++u<t;){var f=e[u];if(He(f[0],this,a))return He(f[1],this,a)}})}function Nm(e){return uh(je(e,D))}function Is(e){return function(){return e}}function Wm(e,t){return e==null||e!==e?t:e}var Fm=Pa(),qm=Pa(!0);function Ue(e){return e}function Ss(e){return ia(typeof e=="function"?e:je(e,D))}function Bm(e){return oa(je(e,D))}function Um(e,t){return aa(e,je(t,D))}var Hm=Z(function(e,t){return function(s){return zn(s,e,t)}}),Ym=Z(function(e,t){return function(s){return zn(e,s,t)}});function Ls(e,t,s){var a=Ae(t),u=Rr(t,a);s==null&&!(pe(t)&&(u.length||!a.length))&&(s=t,t=e,e=this,u=Rr(t,Ae(t)));var f=!(pe(s)&&"chain"in s)||!!s.chain,d=Ot(e);return Ke(u,function(p){var v=t[p];e[p]=v,d&&(e.prototype[p]=function(){var O=this.__chain__;if(f||O){var A=e(this.__wrapped__),M=A.__actions__=Fe(this.__actions__);return M.push({func:v,args:arguments,thisArg:e}),A.__chain__=O,A}return v.apply(e,Wt([this.value()],arguments))})}),e}function Gm(){return Ie._===this&&(Ie._=_f),this}function ks(){}function Qm(e){return e=K(e),Z(function(t){return ua(t,e)})}var Xm=cs(de),Jm=cs(Mo),zm=cs(Di);function Ou(e){return _s(e)?$i(gt(e)):Eh(e)}function Km(e){return function(t){return e==null?n:tn(e,t)}}var Vm=Ia(),Zm=Ia(!0);function Rs(){return[]}function Ds(){return!1}function jm(){return{}}function e_(){return""}function t_(){return!0}function n_(e,t){if(e=K(e),e<1||e>$t)return[];var s=ht,a=Le(e,ht);t=Y(t),e-=ht;for(var u=Fi(a,t);++s<e;)t(s);return u}function r_(e){return z(e)?de(e,gt):Qe(e)?[e]:Fe(Qa(oe(e)))}function i_(e){var t=++gf;return oe(e)+t}var s_=qr(function(e,t){return e+t},0),o_=fs("ceil"),a_=qr(function(e,t){return e/t},1),u_=fs("floor");function l_(e){return e&&e.length?kr(e,Ue,Ki):n}function c_(e,t){return e&&e.length?kr(e,Y(t,2),Ki):n}function f_(e){return Lo(e,Ue)}function h_(e,t){return Lo(e,Y(t,2))}function d_(e){return e&&e.length?kr(e,Ue,es):n}function p_(e,t){return e&&e.length?kr(e,Y(t,2),es):n}var g_=qr(function(e,t){return e*t},1),m_=fs("round"),__=qr(function(e,t){return e-t},0);function w_(e){return e&&e.length?Wi(e,Ue):0}function v_(e,t){return e&&e.length?Wi(e,Y(t,2)):0}return c.after=Bp,c.ary=ru,c.assign=Pg,c.assignIn=_u,c.assignInWith=jr,c.assignWith=Mg,c.at=Ig,c.before=iu,c.bind=Cs,c.bindAll=Dm,c.bindKey=su,c.castArray=jp,c.chain=eu,c.chunk=ud,c.compact=ld,c.concat=cd,c.cond=$m,c.conforms=Nm,c.constant=Is,c.countBy=wp,c.create=Sg,c.curry=ou,c.curryRight=au,c.debounce=uu,c.defaults=Lg,c.defaultsDeep=kg,c.defer=Up,c.delay=Hp,c.difference=fd,c.differenceBy=hd,c.differenceWith=dd,c.drop=pd,c.dropRight=gd,c.dropRightWhile=md,c.dropWhile=_d,c.fill=wd,c.filter=bp,c.flatMap=Cp,c.flatMapDeep=Tp,c.flatMapDepth=Ep,c.flatten=Ka,c.flattenDeep=vd,c.flattenDepth=bd,c.flip=Yp,c.flow=Fm,c.flowRight=qm,c.fromPairs=yd,c.functions=qg,c.functionsIn=Bg,c.groupBy=Op,c.initial=Cd,c.intersection=Td,c.intersectionBy=Ed,c.intersectionWith=Od,c.invert=Hg,c.invertBy=Yg,c.invokeMap=Pp,c.iteratee=Ss,c.keyBy=Mp,c.keys=Ae,c.keysIn=Be,c.map=Xr,c.mapKeys=Qg,c.mapValues=Xg,c.matches=Bm,c.matchesProperty=Um,c.memoize=zr,c.merge=Jg,c.mergeWith=wu,c.method=Hm,c.methodOf=Ym,c.mixin=Ls,c.negate=Kr,c.nthArg=Qm,c.omit=zg,c.omitBy=Kg,c.once=Gp,c.orderBy=Ip,c.over=Xm,c.overArgs=Qp,c.overEvery=Jm,c.overSome=zm,c.partial=Ts,c.partialRight=lu,c.partition=Sp,c.pick=Vg,c.pickBy=vu,c.property=Ou,c.propertyOf=Km,c.pull=Id,c.pullAll=Za,c.pullAllBy=Sd,c.pullAllWith=Ld,c.pullAt=kd,c.range=Vm,c.rangeRight=Zm,c.rearg=Xp,c.reject=Rp,c.remove=Rd,c.rest=Jp,c.reverse=ys,c.sampleSize=$p,c.set=jg,c.setWith=em,c.shuffle=Np,c.slice=Dd,c.sortBy=qp,c.sortedUniq=Ud,c.sortedUniqBy=Hd,c.split=Cm,c.spread=zp,c.tail=Yd,c.take=Gd,c.takeRight=Qd,c.takeRightWhile=Xd,c.takeWhile=Jd,c.tap=lp,c.throttle=Kp,c.thru=Qr,c.toArray=pu,c.toPairs=bu,c.toPairsIn=yu,c.toPath=r_,c.toPlainObject=mu,c.transform=tm,c.unary=Vp,c.union=zd,c.unionBy=Kd,c.unionWith=Vd,c.uniq=Zd,c.uniqBy=jd,c.uniqWith=ep,c.unset=nm,c.unzip=xs,c.unzipWith=ja,c.update=rm,c.updateWith=im,c.values=On,c.valuesIn=sm,c.without=tp,c.words=Tu,c.wrap=Zp,c.xor=np,c.xorBy=rp,c.xorWith=ip,c.zip=sp,c.zipObject=op,c.zipObjectDeep=ap,c.zipWith=up,c.entries=bu,c.entriesIn=yu,c.extend=_u,c.extendWith=jr,Ls(c,c),c.add=s_,c.attempt=Eu,c.camelCase=lm,c.capitalize=xu,c.ceil=o_,c.clamp=om,c.clone=eg,c.cloneDeep=ng,c.cloneDeepWith=rg,c.cloneWith=tg,c.conformsTo=ig,c.deburr=Cu,c.defaultTo=Wm,c.divide=a_,c.endsWith=cm,c.eq=lt,c.escape=fm,c.escapeRegExp=hm,c.every=vp,c.find=yp,c.findIndex=Ja,c.findKey=Rg,c.findLast=xp,c.findLastIndex=za,c.findLastKey=Dg,c.floor=u_,c.forEach=tu,c.forEachRight=nu,c.forIn=$g,c.forInRight=Ng,c.forOwn=Wg,c.forOwnRight=Fg,c.get=As,c.gt=sg,c.gte=og,c.has=Ug,c.hasIn=Ps,c.head=Va,c.identity=Ue,c.includes=Ap,c.indexOf=xd,c.inRange=am,c.invoke=Gg,c.isArguments=sn,c.isArray=z,c.isArrayBuffer=ag,c.isArrayLike=qe,c.isArrayLikeObject=ve,c.isBoolean=ug,c.isBuffer=Gt,c.isDate=lg,c.isElement=cg,c.isEmpty=fg,c.isEqual=hg,c.isEqualWith=dg,c.isError=Es,c.isFinite=pg,c.isFunction=Ot,c.isInteger=cu,c.isLength=Vr,c.isMap=fu,c.isMatch=gg,c.isMatchWith=mg,c.isNaN=_g,c.isNative=wg,c.isNil=bg,c.isNull=vg,c.isNumber=hu,c.isObject=pe,c.isObjectLike=me,c.isPlainObject=tr,c.isRegExp=Os,c.isSafeInteger=yg,c.isSet=du,c.isString=Zr,c.isSymbol=Qe,c.isTypedArray=En,c.isUndefined=xg,c.isWeakMap=Cg,c.isWeakSet=Tg,c.join=Ad,c.kebabCase=dm,c.last=tt,c.lastIndexOf=Pd,c.lowerCase=pm,c.lowerFirst=gm,c.lt=Eg,c.lte=Og,c.max=l_,c.maxBy=c_,c.mean=f_,c.meanBy=h_,c.min=d_,c.minBy=p_,c.stubArray=Rs,c.stubFalse=Ds,c.stubObject=jm,c.stubString=e_,c.stubTrue=t_,c.multiply=g_,c.nth=Md,c.noConflict=Gm,c.noop=ks,c.now=Jr,c.pad=mm,c.padEnd=_m,c.padStart=wm,c.parseInt=vm,c.random=um,c.reduce=Lp,c.reduceRight=kp,c.repeat=bm,c.replace=ym,c.result=Zg,c.round=m_,c.runInContext=w,c.sample=Dp,c.size=Wp,c.snakeCase=xm,c.some=Fp,c.sortedIndex=$d,c.sortedIndexBy=Nd,c.sortedIndexOf=Wd,c.sortedLastIndex=Fd,c.sortedLastIndexBy=qd,c.sortedLastIndexOf=Bd,c.startCase=Tm,c.startsWith=Em,c.subtract=__,c.sum=w_,c.sumBy=v_,c.template=Om,c.times=n_,c.toFinite=At,c.toInteger=K,c.toLength=gu,c.toLower=Am,c.toNumber=nt,c.toSafeInteger=Ag,c.toString=oe,c.toUpper=Pm,c.trim=Mm,c.trimEnd=Im,c.trimStart=Sm,c.truncate=Lm,c.unescape=km,c.uniqueId=i_,c.upperCase=Rm,c.upperFirst=Ms,c.each=tu,c.eachRight=nu,c.first=Va,Ls(c,function(){var e={};return dt(c,function(t,s){ae.call(c.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),c.VERSION=o,Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){c[e].placeholder=c}),Ke(["drop","take"],function(e,t){te.prototype[e]=function(s){s=s===n?1:Ee(K(s),0);var a=this.__filtered__&&!t?new te(this):this.clone();return a.__filtered__?a.__takeCount__=Le(s,a.__takeCount__):a.__views__.push({size:Le(s,ht),type:e+(a.__dir__<0?"Right":"")}),a},te.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),Ke(["filter","map","takeWhile"],function(e,t){var s=t+1,a=s==ft||s==Dt;te.prototype[e]=function(u){var f=this.clone();return f.__iteratees__.push({iteratee:Y(u,3),type:s}),f.__filtered__=f.__filtered__||a,f}}),Ke(["head","last"],function(e,t){var s="take"+(t?"Right":"");te.prototype[e]=function(){return this[s](1).value()[0]}}),Ke(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[s](1)}}),te.prototype.compact=function(){return this.filter(Ue)},te.prototype.find=function(e){return this.filter(e).head()},te.prototype.findLast=function(e){return this.reverse().find(e)},te.prototype.invokeMap=Z(function(e,t){return typeof e=="function"?new te(this):this.map(function(s){return zn(s,e,t)})}),te.prototype.reject=function(e){return this.filter(Kr(Y(e)))},te.prototype.slice=function(e,t){e=K(e);var s=this;return s.__filtered__&&(e>0||t<0)?new te(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==n&&(t=K(t),s=t<0?s.dropRight(-t):s.take(t-e)),s)},te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},te.prototype.toArray=function(){return this.take(ht)},dt(te.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),u=c[a?"take"+(t=="last"?"Right":""):t],f=a||/^find/.test(t);u&&(c.prototype[t]=function(){var d=this.__wrapped__,p=a?[1]:arguments,v=d instanceof te,O=p[0],A=v||z(d),M=function(ee){var ne=u.apply(c,Wt([ee],p));return a&&R?ne[0]:ne};A&&s&&typeof O=="function"&&O.length!=1&&(v=A=!1);var R=this.__chain__,q=!!this.__actions__.length,G=f&&!R,V=v&&!q;if(!f&&A){d=V?d:new te(this);var Q=e.apply(d,p);return Q.__actions__.push({func:Qr,args:[M],thisArg:n}),new Ze(Q,R)}return G&&V?e.apply(this,p):(Q=this.thru(M),G?a?Q.value()[0]:Q.value():Q)})}),Ke(["pop","push","shift","sort","splice","unshift"],function(e){var t=wr[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);c.prototype[e]=function(){var u=arguments;if(a&&!this.__chain__){var f=this.value();return t.apply(z(f)?f:[],u)}return this[s](function(d){return t.apply(z(d)?d:[],u)})}}),dt(te.prototype,function(e,t){var s=c[t];if(s){var a=s.name+"";ae.call(bn,a)||(bn[a]=[]),bn[a].push({name:t,func:s})}}),bn[Fr(n,k).name]=[{name:"wrapper",func:n}],te.prototype.clone=kf,te.prototype.reverse=Rf,te.prototype.value=Df,c.prototype.at=cp,c.prototype.chain=fp,c.prototype.commit=hp,c.prototype.next=dp,c.prototype.plant=gp,c.prototype.reverse=mp,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=_p,c.prototype.first=c.prototype.head,Un&&(c.prototype[Un]=pp),c},_n=hf();Kt?((Kt.exports=_n)._=_n,Si._=_n):Ie._=_n}).call(an)})(fi,fi.exports);var wv=fi.exports;const vv=Qs(wv);class bv{appid;page;constructor({appid:r,page:n}){if(this.appid=r,n<1||!Number.isInteger(n))throw new Error("Workshop page number invalid");this.page=n.toString()}toString(){const r=new URL("https://steamcommunity.com/workshop/browse/");return r.searchParams.set("appid",this.appid),r.searchParams.set("p",this.page),r.searchParams.set("browsesort","trend"),r.searchParams.set("section","mtxitems"),r.searchParams.set("actualsort","trend"),r.searchParams.set("days","1"),r.toString()}}const Ml=async(i,r)=>{const n=`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(i.toString())}`;console.log(n);const o=await fetch(n).then(m=>m.text()),h=new DOMParser().parseFromString(o,"text/html");return r(h)};async function yv(){const i=new bv({appid:"730",page:1}),r=await Ml(i.toString(),o=>[...o.querySelectorAll("div.workshopItem")].map(l=>{const h=l.querySelector("div.workshopItemTitle"),m=l.querySelector("a"),b=l.querySelector("img"),T=l.querySelector("a.workshop_author_link");if(!h||!m||!b||!T)throw new Error("Nothing found for item");const L=h.textContent,C=m.href,D=b.src,$=T.textContent,W=T.getAttribute("href");if(!L)throw new Error("Title not found");if(!$||!W)throw new Error("Author not found");return{title:L,link:C,thumbnail:D,author:{name:$,link:W}}})),n=new Array;for(const o of r)console.log(`Scraping ${o.title}`),n.push(await xv(o));return console.log(n),n}const Vu=i=>tv(i,"d MMM @ h:mmaaa",new Date);async function xv(i){const r=await Ml(i.link,n=>{const h=[...n.querySelectorAll('div[id^="thumb_screenshot"] > img').values()].map(k=>k.getAttribute("src")).reduce((k,S)=>(S&&k.push(S),k),[]),T=n.querySelector("img#previewImage")?.getAttribute("src");if(!h.length&&T&&h.push(T),!h.length)throw new Error(`No images found (${i.title} : ${i.link})`);const C=n.querySelector("div.creatorsBlock div.playerAvatar img")?.getAttribute("src");if(!C)throw new Error("No author img found");const W=n.querySelector("div.detailsStatsContainerRight > div:nth-child(2)")?.textContent;if(!W)throw new Error("No postedOn found");const y=n.querySelector("div.detailsStatsContainerRight > div:nth-child(3)")?.textContent;if(!y)throw new Error("No updatedOn found");return{...i,imagesSrcs:h,authorImgSrc:C,postedOnStr:W,updatedOnStr:y}});return{...vv.omit(r,["postedOnStr","updatedOnStr","imagesSrcs"]),postedOn:Vu(r.postedOnStr),updatedOn:Vu(r.updatedOnStr),imagesSrcs:r.imagesSrcs.map(n=>{const o=new URL(n);return o.searchParams.set("imw","1920"),o.searchParams.set("imh","1080"),o.href})}}var Cv=kt('<div class="w-full h-full flex justify-center items-center"><p class="font-bold text-xl">Completed'),Tv=kt('<div class="w-full h-full">'),Ev=kt('<div class="flex flex-row justify-center"><p class=text-center>Loading...');const Ov=i=>{const r=i.items();if(r&&r.length>0){const n=Math.floor(Math.random()*r.length),o=r[n];i.setPickedItem(o),i.mutate(r.filter((l,h)=>h!==n))}else i.setCompleted(),clearInterval(i.interval)},Av=i=>{const[r,n]=rt(!1),[o,l]=rt(),[h,{mutate:m}]=T_(async()=>{const b=JSON.parse(JSON.stringify(await yv()));if(b){const T=Math.floor(Math.random()*b.length),L=b[T];return l(L),b}return console.error("Could not fetch workshop"),[]});return ni(()=>{if(!h())return;const b=setInterval(()=>Ov({mutate:m,setPickedItem:l,items:h,interval:b,setCompleted:()=>n(!0)}),1e3*20);tl(()=>clearInterval(b))}),r()?Cv():(()=>{var b=Tv();return We(b,(()=>{var T=wt(()=>!!h.loading);return()=>T()&&Ev()})(),null),We(b,(()=>{var T=wt(()=>!!Pl(o));return()=>T()&&Xt(_v,{get item(){return o()},get client(){return i.client}})})(),null),b})()};var Pv=kt('<div class="h-full flex flex-col justify-center items-center center"><p class=font-bold>Twich channel</p><input type=text class="text-black p-1"autofocus><button type=button class="mt-2 bg-blue-400 text-blue-950 p-1 font-bold rounded hover:bg-blue-500">Start'),Mv=kt('<div class="h-screen w-screen bg-blue-950 text-white">');const Iv=()=>{const[i,r]=rt(""),[n,o]=rt(0),[l,h]=rt(),m=()=>{if(!i())return;const b=new r0.Client({connection:{reconnect:!0,secure:!0},channels:[i()]});b.connect().then(()=>{h(b),o(1)}).catch(T=>{console.error(T),h(void 0),o(0)})};return(()=>{var b=Mv();return We(b,Xt(L_,{fallback:"Dev is shiet. Should not happen",get children(){return[Xt(Mu,{get when(){return n()===1},get children(){return wt(()=>!!Pl(l))()&&Xt(Av,{get client(){return l()}})}}),Xt(Mu,{get when(){return n()===0},get children(){var T=Pv(),L=T.firstChild,C=L.nextSibling,D=C.nextSibling;return C.addEventListener("change",$=>r($.target.value)),D.$$click=()=>m(),T}})]}})),b})()};D_(["click"]);const Zu=document.getElementById("root");Zu&&R_(()=>Xt(Iv,{}),Zu);
